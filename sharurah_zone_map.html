<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        (function() {
            var link = document.createElement('link');
            link.rel = 'icon';
            link.href = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><text y=".9em" font-size="90">üè•</text></svg>';
            document.head.appendChild(link);
        })();
    </script>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüè•%3C/text%3E%3C/svg%3E">
    <link rel="shortcut icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüè•%3C/text%3E%3C/svg%3E">
    <title>SGH, KGH, NNGH, WNH, MCH, KKH, TGH, BGH, YGH & HGH Zones</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            direction: rtl;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            overflow: hidden;
            background: #fff;
        }
        
        .header {
            display: none;
        }
        
        .main-container {
            display: none;
        }
        
        .presentation-toggle-btn {
            display: none;
        }
        
        #map {
            flex: 1;
            height: 100%;
            transition: width 0.3s ease;
            position: relative;
            margin: 0;
            padding: 0;
            overflow: hidden;
            align-self: stretch;
        }
        
        .leaflet-control-attribution {
            display: none !important;
        }
        
        .leaflet-control-container {
            margin: 0 !important;
            padding: 0 !important;
        }
        
        #map .leaflet-container {
            margin: 0 !important;
            padding: 0 !important;
            height: 100% !important;
            width: 100% !important;
        }
        #map .leaflet-pane,
        #map .leaflet-map-pane,
        #map .leaflet-tile-pane,
        #map .leaflet-overlay-pane {
            margin: 0 !important;
            padding: 0 !important;
        }
        
        .main-container.sidebar-active #map {
            width: calc(100% - 380px);
        }
        
        .header-logo {
            width: 48px;
            height: 48px;
            object-fit: contain;
            flex-shrink: 0;
        }
        
        .header-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .header-company {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .header-company-name {
            font-size: 16px;
            font-weight: 600;
            margin: 0;
            letter-spacing: -0.2px;
            color: #1d1d1f;
        }
        
        .header-company-name-ar {
            font-size: 13px;
            font-weight: 400;
            margin: 0;
            color: #86868b;
        }
        
        .header h1 {
            font-size: 18px;
            font-weight: 600;
            margin: 4px 0 0 0;
            letter-spacing: -0.3px;
        }
        
        .header p {
            font-size: 12px;
            margin: 2px 0 0 0;
            color: #86868b;
            font-weight: 400;
        }
        
        .info-panel {
            width: 360px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border-left: 0.5px solid rgba(0, 0, 0, 0.1);
            padding: 24px;
            overflow-y: auto;
            direction: rtl;
            display: block;
            -webkit-overflow-scrolling: touch;
            flex-shrink: 0;
            margin: 0;
            align-self: stretch;
            height: 100%;
        }
        
        .info-panel.active {
            display: block;
        }
        
        .zone-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 0 0 24px 0;
            padding-bottom: 16px;
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.1);
        }
        
        .back-arrow {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(142, 142, 147, 0.1);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 18px;
            color: #1d1d1f;
            flex-shrink: 0;
        }
        
        .back-arrow:hover {
            background: rgba(142, 142, 147, 0.2);
        }
        
        .back-arrow:active {
            transform: scale(0.95);
        }
        
        .back-arrow.hidden {
            display: none;
        }
        
        .info-panel h2 {
            color: #1d1d1f;
            font-size: 20px;
            font-weight: 600;
            margin: 0;
            letter-spacing: -0.2px;
            flex: 1;
        }
        
        .zone-nav {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 1000;
            pointer-events: none;
        }
        
        .nav-arrow {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border: 0.5px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 20px;
            color: #1d1d1f;
            pointer-events: all;
        }
        
        .nav-arrow:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        
        .nav-arrow:active {
            transform: scale(0.95);
        }
        
        .nav-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .stat-card {
            background: rgba(142, 142, 147, 0.08);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 12px;
            border: none;
            border-right: 3px solid transparent;
        }
        
        .stat-card h3 {
            font-size: 13px;
            color: #86868b;
            margin: 0 0 8px 0;
            font-weight: 400;
            letter-spacing: -0.1px;
        }
        
        .stat-card .value {
            font-size: 32px;
            font-weight: 600;
            color: #1d1d1f;
            letter-spacing: -0.5px;
        }
        
        .phc-list {
            margin-top: 24px;
        }
        
        .phc-list h3 {
            font-size: 15px;
            color: #1d1d1f;
            margin-bottom: 12px;
            font-weight: 600;
            letter-spacing: -0.1px;
        }
        
        .phc-item {
            background: rgba(142, 142, 147, 0.08);
            padding: 14px 16px;
            margin-bottom: 8px;
            border-radius: 10px;
            font-size: 14px;
            color: #1d1d1f;
            border: none;
            transition: background 0.2s ease;
        }
        
        .phc-item:active {
            background: rgba(142, 142, 147, 0.16);
        }
        
        .zone-hover {
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
            transform: translateY(-1px);
        }
        
        .zone-label-tooltip {
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            padding: 0 !important;
            font-size: 28px !important;
            font-weight: 600 !important;
            color: #1d1d1f !important;
            white-space: nowrap !important;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9) !important;
            letter-spacing: -0.3px !important;
        }
        
        .zone-label-tooltip::before {
            display: none !important;
        }
        
        .close-btn {
            position: absolute;
            top: 16px;
            left: 16px;
            background: rgba(142, 142, 147, 0.2);
            color: #1d1d1f;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-weight: 300;
        }
        
        .close-btn:hover {
            background: rgba(142, 142, 147, 0.3);
        }
        
        .close-btn:active {
            transform: scale(0.95);
        }

        .backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            z-index: 999;
            transition: opacity 0.3s ease;
        }

        .backdrop.active {
            display: block;
        }

        /* Tablet Styles */
        @media screen and (max-width: 1024px) {
            .header {
                padding: 12px 20px;
                gap: 14px;
            }
            
            .header-logo {
                width: 44px;
                height: 44px;
            }
            
            .header-company-name {
                font-size: 15px;
            }
            
            .header-company-name-ar {
                font-size: 12px;
            }
            
            .header h1 {
                font-size: 17px;
            }
            
            .header p {
                font-size: 11px;
            }
            
            .main-container {
                height: calc(100vh - 94px);
                margin-top: 94px;
            }
            
            .main-container.sidebar-active #map {
                width: calc(100% - 360px);
            }
            
            .info-panel {
                width: 340px;
                padding: 20px;
            }
            
            .info-panel h2 {
                font-size: 19px;
            }
            
            .stat-card {
                padding: 18px;
            }
            
            .stat-card .value {
                font-size: 28px;
            }
            
            .zone-label-tooltip {
                font-size: 24px !important;
            }
        }

        /* Phone Styles */
        @media screen and (max-width: 768px) {
            .header {
                padding: 10px 16px;
                gap: 12px;
            }
            
            .header-logo {
                width: 40px;
                height: 40px;
            }
            
            .header-company-name {
                font-size: 14px;
            }
            
            .header-company-name-ar {
                font-size: 11px;
            }
            
            .header h1 {
                font-size: 15px;
                line-height: 1.3;
                margin-top: 3px;
            }
            
            .header p {
                font-size: 11px;
                margin-top: 2px;
            }
            
            .main-container {
                height: calc(100vh - 88px);
                margin-top: 88px;
                flex-direction: column;
                position: relative;
                gap: 0;
            }
            
            #map {
                width: 100%;
                height: 40%;
                flex-shrink: 0;
                margin: 0;
                padding: 0;
                margin-bottom: 0 !important;
                overflow: hidden !important; /* Prevent any overflow */
            }
            
            /* Hide all Leaflet controls on mobile to remove spacing */
            .leaflet-control-attribution {
                display: none !important;
            }
            
            /* Hide zoom controls on mobile */
            .leaflet-control-zoom {
                display: none !important;
            }
            
            .leaflet-control-zoom-in,
            .leaflet-control-zoom-out {
                display: none !important;
            }
            
            .leaflet-control-container {
                margin: 0 !important;
                padding: 0 !important;
            }
            
            /* Force Leaflet container to match parent height exactly */
            #map .leaflet-container {
                margin: 0 !important;
                padding: 0 !important;
                margin-bottom: 0 !important;
                height: 100% !important; /* Force it to match parent */
                width: 100% !important;
                overflow: hidden !important;
            }
            
            /* Ensure all Leaflet panes respect the container */
            #map .leaflet-pane,
            #map .leaflet-map-pane,
            #map .leaflet-tile-pane,
            #map .leaflet-overlay-pane {
                height: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            .backdrop {
                display: none; /* Not needed for stacked layout */
            }
            
            .info-panel {
                position: relative;
                width: 100%;
                height: 60%;
                border-radius: 0;
                border-left: none;
                border-top: none;
                margin: 0;
                margin-top: 0 !important;
                padding: 24px 20px;
                transform: none;
                transition: none;
                box-shadow: none;
                display: block;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .info-panel.active {
                transform: none;
            }
            
            .main-container.sidebar-active #map {
                width: 100% !important;
            }
            
            .zone-header {
                margin-bottom: 20px;
                padding-bottom: 16px;
            }
            
            .info-panel h2 {
                font-size: 20px;
                margin: 0;
            }
            
            .zone-nav {
                display: flex !important; /* Show navigation arrows on mobile */
                position: absolute;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                gap: 16px;
                z-index: 1000;
                pointer-events: all;
            }
            
            .nav-arrow {
                display: flex !important; /* Show arrow buttons on mobile */
                width: 56px; /* Larger for touch */
                height: 56px;
                font-size: 20px;
                visibility: visible !important;
                opacity: 1 !important;
                pointer-events: all !important;
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2); /* More prominent shadow */
            }
            
            .stat-card {
                padding: 18px;
                margin-bottom: 12px;
                border-radius: 12px;
            }
            
            .stat-card h3 {
                font-size: 13px;
            }
            
            .stat-card .value {
                font-size: 28px;
            }
            
            .phc-list h3 {
                font-size: 16px;
            }
            
            .phc-item {
                padding: 14px 16px;
                font-size: 14px;
                margin-bottom: 8px;
                border-radius: 10px;
            }
            
            .close-btn {
                width: 36px;
                height: 36px;
                font-size: 22px;
                top: 16px;
                left: 16px;
            }
            
            .zone-label-tooltip {
                font-size: 20px !important;
            }
        }

        /* Small Phone Styles */
        @media screen and (max-width: 480px) {
            .header {
                padding: 9px 14px;
                gap: 10px;
            }
            
            .header-logo {
                width: 36px;
                height: 36px;
            }
            
            .header-company-name {
                font-size: 13px;
            }
            
            .header-company-name-ar {
                font-size: 10px;
            }
            
            .header h1 {
                font-size: 14px;
                margin-top: 2px;
            }
            
            .header p {
                font-size: 10px;
            }
            
            .main-container {
                height: calc(100vh - 84px);
                margin-top: 84px;
            }
            
            #map {
                width: 100%;
                height: 100%;
            }
            
            .backdrop {
                top: 84px;
            }
            
            .info-panel {
                top: 84px;
                max-height: calc(100vh - 84px);
                padding: 20px 16px;
                border-radius: 20px 20px 0 0;
            }
            
            .info-panel h2 {
                font-size: 19px;
            }
            
            .stat-card {
                padding: 16px;
            }
            
            .stat-card .value {
                font-size: 26px;
            }
            
            .phc-item {
                font-size: 13px;
                padding: 12px 14px;
            }
            
            .zone-label-tooltip {
                font-size: 18px !important;
            }
        }

        /* Touch-friendly adjustments */
        @media (hover: none) and (pointer: coarse) {
            .close-btn {
                min-width: 44px;
                min-height: 44px;
            }
            
            .phc-item {
                min-height: 44px;
                display: flex;
                align-items: center;
            }
        }

        /* Landscape orientation for tablets */
        @media screen and (max-width: 1024px) and (orientation: landscape) {
            .header {
                padding: 10px 20px;
                gap: 12px;
            }
            
            .header-logo {
                width: 40px;
                height: 40px;
            }
            
            .header-company-name {
                font-size: 14px;
            }
            
            .header-company-name-ar {
                font-size: 11px;
            }
            
            .header h1 {
                font-size: 16px;
                margin-top: 2px;
            }
            
            .main-container {
                height: calc(100vh - 80px);
                margin-top: 80px;
            }
            
            .main-container.sidebar-active #map {
                width: calc(100% - 360px);
            }
            
            .info-panel {
                max-height: calc(100vh - 140px);
            }
        }

        /* iOS-style scrollbar */
        .info-panel::-webkit-scrollbar {
            width: 4px;
        }

        .info-panel::-webkit-scrollbar-track {
            background: transparent;
        }

        .info-panel::-webkit-scrollbar-thumb {
            background: rgba(142, 142, 147, 0.3);
            border-radius: 2px;
        }

        .info-panel::-webkit-scrollbar-thumb:hover {
            background: rgba(142, 142, 147, 0.5);
        }

        .slide-details-container::-webkit-scrollbar {
            width: 8px;
        }

        .slide-details-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
        }

        .slide-details-container::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .slide-details-container::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .presentation-mode {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #fff;
            z-index: 2000;
            display: block;
            overflow: hidden;
        }

        .presentation-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            background: #fff;
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
        }

        .presentation-slide.active {
            display: flex;
            opacity: 1;
        }

        .presentation-slide.fade-out {
            opacity: 0;
        }

        .slide-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: saturate(180%) blur(20px);
            padding: 20px 40px;
            display: flex;
            align-items: center;
            gap: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            z-index: 10;
        }


        .slide-logo {
            width: 56px;
            height: 56px;
            object-fit: contain;
        }

        .slide-title-section {
            flex: 1;
        }

        .slide-title {
            font-size: 32px;
            font-weight: 600;
            color: #1d1d1f;
            margin: 0 0 4px 0;
            letter-spacing: -0.5px;
        }

        .slide-subtitle {
            font-size: 18px;
            color: #86868b;
            margin: 0;
        }

        .slide-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 12px;
            position: relative;
            overflow: hidden !important;
            position: relative;
            padding: 12px;
            box-sizing: border-box;
            direction: ltr;
            contain: layout style paint;
        }

        .slide-details-container {
            display: none;
        }

        .slide-details-container .slide-stat-card {
            width: 100%;
            max-width: 100%;
            padding: clamp(20px, 4vh, 40px) clamp(20px, 3vw, 30px);
            margin: 0;
        }

        .slide-details-container .slide-stat-card h3 {
            font-size: clamp(14px, 2vh, 18px);
            margin-bottom: clamp(8px, 1.5vh, 16px);
        }

        .slide-details-container .slide-stat-card .value {
            font-size: clamp(48px, 8vh, 72px);
            font-weight: 700;
        }

        .slide-info-container {
            grid-column: 2;
            grid-row: 1;
            padding: clamp(10px, 1.5vh, 14px);
            overflow-y: auto;
            overflow-x: hidden;
            background: #fff;
            direction: rtl;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            min-height: 0;
            height: 100%;
            max-height: 100%;
            contain: layout style paint;
            position: relative;
            -webkit-overflow-scrolling: touch;
        }

        /* Zone name visibility - desktop shows in info-container, mobile shows in details-container */
        .zone-name-desktop {
            display: flex !important;
        }


        .slide-new-section {
            grid-column: 1;
            grid-row: 1 / 3;
            background: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: clamp(20px, 3vh, 40px);
            overflow-y: auto;
            overflow-x: hidden;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            box-sizing: border-box;
            -webkit-overflow-scrolling: touch;
            min-height: 0;
            height: 100%;
            direction: rtl;
        }

        .slide-map-container {
            grid-column: 2;
            grid-row: 2;
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-sizing: border-box;
            min-height: 0;
            height: 100%;
        }

        .slide-map {
            width: 100%;
            height: 100%;
            flex: 1;
            min-height: 300px;
            overflow: hidden;
            position: relative;
            z-index: 1;
            will-change: transform;
            transform: translateZ(0);
        }

        .slide-map .leaflet-container {
            width: 100% !important;
            height: 100% !important;
            overflow: hidden !important;
            position: relative !important;
            z-index: 1 !important;
            will-change: transform;
        }

        .slide-stat-card {
            background: rgba(142, 142, 147, 0.08);
            border-radius: 8px;
            padding: clamp(6px, 1.5vh, 12px) clamp(8px, 1.5vw, 12px);
            margin-bottom: clamp(3px, 0.8vh, 6px);
            border-right: 3px solid;
            box-sizing: border-box;
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            flex-shrink: 0;
            contain: layout style;
        }

        .slide-stat-card h3 {
            font-size: clamp(9px, 1.2vh, 11px);
            color: #86868b;
            margin: 0 0 clamp(2px, 0.5vh, 4px) 0;
            font-weight: 400;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .slide-stat-card .value {
            font-size: clamp(18px, 3vh, 24px);
            font-weight: 600;
            letter-spacing: -1px;
            overflow: hidden;
            word-break: break-word;
            line-height: 1.1;
        }

        .slide-phc-list {
            margin-top: clamp(4px, 1vh, 8px);
            width: 100%;
            max-width: 100%;
            overflow: hidden !important;
            flex: 1;
            min-height: 0;
            max-height: 100%;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: clamp(2px, 0.5vh, 4px);
            align-content: start;
            grid-auto-rows: min-content;
            contain: layout style;
            box-sizing: border-box;
        }

        .slide-phc-list h3 {
            font-size: clamp(10px, 1.5vh, 13px);
            color: #1d1d1f;
            margin-bottom: clamp(3px, 0.8vh, 6px);
            font-weight: 600;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            flex-shrink: 0;
            grid-column: 1 / -1;
        }

        .slide-phc-item {
            background: rgba(142, 142, 147, 0.08);
            padding: clamp(4px, 0.8vh, 6px) clamp(6px, 1vw, 8px);
            margin-bottom: 0;
            border-radius: 6px;
            font-size: clamp(8px, 1.2vh, 10px);
            color: #1d1d1f;
            border-right: 2px solid;
            box-sizing: border-box;
            width: 100%;
            max-width: 100%;
            overflow: hidden !important;
            flex-shrink: 0;
            word-wrap: break-word;
            word-break: break-word;
            line-height: 1.3;
            cursor: pointer;
            transition: background 0.2s ease;
            text-align: right;
            direction: rtl;
            contain: layout style;
        }

        .slide-phc-item:hover {
            background: rgba(142, 142, 147, 0.15);
        }

        .slide-phc-item strong {
            display: block;
            font-size: clamp(8px, 1.2vh, 10px);
            margin-bottom: clamp(1px, 0.3vh, 2px);
            font-weight: 600;
            overflow: hidden !important;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
            box-sizing: border-box;
        }

        .slide-phc-item span {
            font-size: clamp(7px, 1vh, 9px);
            display: block;
            margin-top: clamp(1px, 0.3vh, 2px);
            overflow: hidden !important;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
            box-sizing: border-box;
        }

        .card-info-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #86868b;
            color: #fff;
            font-size: 10px;
            font-weight: 700;
            cursor: help;
            margin-right: 4px;
            vertical-align: middle;
            position: relative;
            flex-shrink: 0;
        }

        .card-info-icon:hover {
            background: #1d1d1f;
        }

        .card-toggle-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 4px;
            background: #e5e5e7;
            color: #1d1d1f;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-right: 6px;
            vertical-align: middle;
            flex-shrink: 0;
            border: 1px solid #d1d1d6;
            transition: all 0.2s ease;
        }

        .card-toggle-btn:hover {
            background: #d1d1d6;
        }

        .card-toggle-btn.active {
            background: #1d1d1f;
            color: #fff;
            border-color: #1d1d1f;
        }

        @keyframes pulseWarning {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.3);
            }
        }

        @keyframes glowGreen {
            0%, 100% {
                opacity: 1;
                box-shadow: 0 0 4px rgba(16, 185, 129, 0.8), 0 0 8px rgba(16, 185, 129, 0.4);
            }
            50% {
                opacity: 0.9;
                box-shadow: 0 0 6px rgba(16, 185, 129, 1), 0 0 12px rgba(16, 185, 129, 0.6);
            }
        }

        .marker-warning {
            animation: pulseWarning 1.5s ease-in-out infinite;
        }

        .marker-glow {
            animation: glowGreen 2s ease-in-out infinite;
        }

        .card-tooltip {
            position: absolute;
            bottom: 100%;
            right: 0;
            margin-bottom: 8px;
            background: #1d1d1f;
            color: #fff;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 11px;
            line-height: 1.4;
            white-space: normal;
            width: 200px;
            z-index: 10001;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .card-info-icon:hover .card-tooltip {
            opacity: 1;
            pointer-events: auto;
        }

        .card-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            right: 12px;
            border: 6px solid transparent;
            border-top-color: #1d1d1f;
        }

        .presentation-controls {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 10000;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            padding: 6px 12px;
            border-radius: 30px;
            pointer-events: auto;
        }
        
        
        .presentation-nav-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.95);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            color: #1d1d1f;
            transition: all 0.2s ease;
            position: relative;
            z-index: 10001;
        }

        .presentation-nav-btn:hover {
            background: #fff;
            transform: scale(1.05);
        }

        .presentation-nav-btn:active {
            transform: scale(0.95);
        }

        .slide-indicator {
            color: #fff;
            font-size: 12px;
            font-weight: 500;
            padding: 0 10px;
            min-width: 60px;
            text-align: center;
            position: relative;
            z-index: 10001;
        }

        .exit-presentation-btn {
            display: none;
        }

        .presentation-toggle-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: #4A90E2;
            border: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 28px;
            color: #fff;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(74, 144, 226, 0.4);
            transition: all 0.3s ease;
        }

        .presentation-toggle-btn:hover {
            background: #357ABD;
            transform: scale(1.1);
            box-shadow: 0 6px 24px rgba(74, 144, 226, 0.5);
        }

        .presentation-toggle-btn:active {
            transform: scale(0.95);
        }

        .presentation-toggle-btn span {
            font-size: 14px;
            position: absolute;
            bottom: -24px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            color: #1d1d1f;
            font-weight: 500;
        }

        @media screen and (max-width: 1024px) {
            .slide-header {
                padding: 16px 24px;
            }

            .slide-logo {
                width: 48px;
                height: 48px;
            }

            .slide-title {
                font-size: 24px;
            }

            .slide-subtitle {
                font-size: 14px;
            }

            .slide-content {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto;
                gap: 12px;
            }

            .slide-details-container {
                grid-column: 1;
                grid-row: 1;
                min-height: 200px;
            }

            .slide-info-container {
                grid-column: 1;
                grid-row: 2;
                padding: 24px;
            }

            .slide-map-container {
                grid-column: 1;
                grid-row: 3;
            }

            .slide-new-section {
                grid-column: 1;
                grid-row: 4;
                min-height: 200px;
            }


            .slide-stat-card {
                padding: 24px;
            }

            .slide-stat-card .value {
                font-size: 36px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <img src="light_mode_logo.png" alt="Najran Health Cluster" class="header-logo">
        <div class="header-content">
            <div class="header-company">
                <div class="header-company-name">Najran Health cluster</div>
                <div class="header-company-name-ar">ÿ™ÿ¨ŸÖÿπ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿµÿ≠Ÿä</div>
            </div>
        </div>
    </div>
    <div class="main-container sidebar-active" style="display: none;">
        <div id="map">
            <div class="zone-nav">
                <button class="nav-arrow" id="prevZone" onclick="navigateZones(-1)">&lt;</button>
                <button class="nav-arrow" id="nextZone" onclick="navigateZones(1)">&gt;</button>
            </div>
        </div>
        <div class="info-panel active" id="infoPanel">
            <div class="zone-header">
                <button class="back-arrow hidden" id="backArrow" onclick="showOverview()">‚Üê</button>
                <h2 id="zoneName">ÿßÿÆÿ™ÿ± ŸÖŸÜÿ∑ŸÇÿ©</h2>
            </div>
            <div id="zoneInfo"></div>
        </div>
    </div>
    <div class="backdrop" id="backdrop" onclick="closeInfoPanel()"></div>

    <!-- Presentation Mode -->
    <div class="presentation-mode" id="presentationMode">
        <div id="presentationSlides"></div>
    </div>

    <script>
        const sghZoneCoordinates = [
            [16.949748, 46.999512],
            [17.283773, 46.749573],
            [17.236560, 46.381531],
            [17.416166, 46.373291],
            [17.953905, 45.904999],
            [18.110608, 45.821228],
            [18.329757, 45.601501],
            [18.469187, 45.561333],
            [18.513144, 45.541420],
            [18.914724, 46.347198],
            [19.080285, 46.540833],
            [19.316973, 46.537399],
            [19.333168, 47.528229],
            [19.334438, 51.998291],
            [19.002361, 52.003784],
            [18.790599, 50.781555],
            [18.618897, 49.118500],
            [18.167372, 48.183975],
            [17.450198, 47.598267],
            [17.117127, 47.469177],
            [16.956942, 47.180786]
        ];

        const kghZoneCoordinates = [
            [17.430902, 44.337044],
            [17.502296, 44.418755],
            [17.523251, 44.426994],
            [17.532418, 44.415665],
            [17.541257, 44.417038],
            [17.540602, 44.393349],
            [17.556642, 44.390259],
            [17.561552, 44.397469],
            [17.554678, 44.450340],
            [17.554024, 44.458237],
            [17.567444, 44.456177],
            [17.578245, 44.447594],
            [17.584137, 44.435921],
            [17.585118, 44.429398],
            [17.591664, 44.426308],
            [17.599846, 44.428024],
            [17.618826, 44.458923],
            [17.634205, 44.449654],
            [17.647619, 44.470940],
            [17.661033, 44.474716],
            [17.715003, 44.442444],
            [17.790208, 44.441757],
            [17.807533, 44.470596],
            [17.880083, 44.478836],
            [17.835639, 44.545784],
            [17.832698, 44.555054],
            [17.919282, 44.573593],
            [17.933001, 44.567413],
            [17.976767, 44.576340],
            [17.957172, 44.642258],
            [17.955212, 44.662170],
            [17.965663, 44.696503],
            [17.953253, 44.745941],
            [17.918627, 44.818726],
            [17.956517, 44.853058],
            [17.995706, 44.959488],
            [18.044016, 45.045319],
            [18.098846, 45.343323],
            [18.136697, 45.354309],
            [18.158883, 45.354309],
            [18.252811, 45.407867],
            [18.327136, 45.418854],
            [18.342779, 45.446320],
            [18.363634, 45.449066],
            [18.506947, 45.530090],
            [18.513631, 45.541248],
            [18.468618, 45.561247],
            [18.329593, 45.601158],
            [18.110552, 45.821207],
            [17.953253, 45.904655],
            [17.415999, 46.373034],
            [17.236561, 46.381359],
            [17.233249, 46.365738],
            [17.252267, 46.086960],
            [17.333909, 45.399971],
            [17.433360, 45.216637],
            [17.435157, 44.888420],
            [17.434343, 44.649725],
            [17.405516, 44.566641],
            [17.433321, 44.467077],
            [17.433360, 44.365196]
        ];

        const nnghZoneCoordinates = [
            [17.430903, 44.336700],
            [17.418455, 44.227867],
            [17.413869, 44.209328],
            [17.414852, 44.190102],
            [17.464312, 44.176369],
            [17.477411, 44.174652],
            [17.484288, 44.179459],
            [17.484616, 44.187698],
            [17.486253, 44.194221],
            [17.481996, 44.208984],
            [17.512448, 44.205208],
            [17.524890, 44.224777],
            [17.534711, 44.238510],
            [17.541259, 44.246063],
            [17.545514, 44.260826],
            [17.549115, 44.261169],
            [17.552389, 44.271812],
            [17.550425, 44.287262],
            [17.568755, 44.286232],
            [17.580538, 44.262199],
            [17.591010, 44.257736],
            [17.694399, 44.223404],
            [17.704211, 44.224091],
            [17.738222, 44.241257],
            [17.770921, 44.252930],
            [17.782691, 44.254303],
            [17.804266, 44.268723],
            [17.812765, 44.292755],
            [17.823225, 44.306488],
            [17.833684, 44.312668],
            [17.859175, 44.316101],
            [17.878781, 44.364853],
            [17.908186, 44.377899],
            [17.917333, 44.390945],
            [17.900345, 44.406052],
            [17.890543, 44.424591],
            [17.880741, 44.478149],
            [17.809496, 44.471283],
            [17.791190, 44.443130],
            [17.719256, 44.441757],
            [17.663650, 44.474716],
            [17.649255, 44.472656],
            [17.635514, 44.451370],
            [17.619153, 44.458923],
            [17.599519, 44.429398],
            [17.591010, 44.427338],
            [17.585119, 44.431458],
            [17.581191, 44.444504],
            [17.567445, 44.458237],
            [17.556315, 44.458237],
            [17.554053, 44.458199],
            [17.555643, 44.442956],
            [17.561553, 44.398499],
            [17.556315, 44.391632],
            [17.540603, 44.394379],
            [17.541912, 44.417725],
            [17.532746, 44.416351],
            [17.524234, 44.427338],
            [17.504589, 44.420471],
            [17.502303, 44.418744],
            [17.502296, 44.418712],
            [17.476839, 44.389462],
            [17.472024, 44.384079]
        ];

        const wnhZoneCoordinates = [
            [17.414201, 44.189758],
            [17.408304, 44.138260],
            [17.383405, 44.132767],
            [17.367022, 44.112854],
            [17.366366, 44.099808],
            [17.405028, 44.067535],
            [17.403718, 44.049683],
            [17.391924, 44.023590],
            [17.400442, 44.011230],
            [17.330974, 43.967972],
            [17.339495, 43.904114],
            [17.337528, 43.832016],
            [17.353914, 43.807297],
            [17.374230, 43.788071],
            [17.370298, 43.720093],
            [17.386026, 43.711166],
            [17.401752, 43.694000],
            [17.416822, 43.694687],
            [17.431890, 43.685760],
            [17.430580, 43.702240],
            [17.438441, 43.706360],
            [17.448268, 43.719406],
            [17.467264, 43.714600],
            [17.467919, 43.744812],
            [17.473813, 43.788757],
            [17.513107, 43.860855],
            [17.525549, 43.936386],
            [17.553702, 44.038010],
            [17.556321, 44.095688],
            [17.526858, 44.103928],
            [17.525549, 44.116974],
            [17.533406, 44.165039],
            [17.531442, 44.180832],
            [17.526858, 44.184952],
            [17.522275, 44.182892],
            [17.522275, 44.195251],
            [17.515072, 44.187698],
            [17.510488, 44.189072],
            [17.511143, 44.206238],
            [17.482328, 44.209671],
            [17.484948, 44.195938],
            [17.484293, 44.180145],
            [17.477088, 44.174652]
        ];

        const mchZoneCoordinates = [
            [17.550588, 44.243660],
            [17.549279, 44.255333],
            [17.548461, 44.260826],
            [17.551898, 44.271641],
            [17.550916, 44.286747],
            [17.568755, 44.285889],
            [17.581029, 44.261169],
            [17.590520, 44.257393],
            [17.589211, 44.242630],
            [17.570065, 44.232159],
            [17.573829, 44.223061],
            [17.577265, 44.214134],
            [17.567282, 44.204521],
            [17.550752, 44.218769],
            [17.550097, 44.221687],
            [17.550425, 44.224262],
            [17.560081, 44.228554],
            [17.557463, 44.234905],
            [17.554189, 44.241943]
        ];

        const kkhZoneCoordinates = [
            [17.512778, 44.205208],
            [17.511796, 44.192505],
            [17.510813, 44.187698],
            [17.515070, 44.186668],
            [17.521291, 44.194908],
            [17.520308, 44.187355],
            [17.521945, 44.182892],
            [17.526202, 44.183922],
            [17.530785, 44.178429],
            [17.533404, 44.164352],
            [17.524892, 44.112854],
            [17.525547, 44.102554],
            [17.556974, 44.094315],
            [17.552391, 44.038010],
            [17.524893, 43.935699],
            [17.511797, 43.860168],
            [17.473812, 43.788757],
            [17.465953, 43.744812],
            [17.467263, 43.713226],
            [17.484619, 43.708763],
            [17.485929, 43.702583],
            [17.487566, 43.692970],
            [17.496407, 43.690567],
            [17.505903, 43.692970],
            [17.527185, 43.651428],
            [17.559921, 43.634605],
            [17.570068, 43.647308],
            [17.576941, 43.651085],
            [17.585451, 43.651772],
            [17.603450, 43.649025],
            [17.620140, 43.646622],
            [17.630283, 43.648682],
            [17.630283, 43.654518],
            [17.626684, 43.661385],
            [17.615231, 43.666534],
            [17.582832, 43.675117],
            [17.531441, 43.706360],
            [17.517363, 43.737259],
            [17.517690, 43.743782],
            [17.519327, 43.763351],
            [17.516708, 43.785667],
            [17.534060, 43.789444],
            [17.540280, 43.807983],
            [17.553047, 43.827553],
            [17.575632, 43.845062],
            [17.583487, 43.852272],
            [17.583487, 43.866692],
            [17.595269, 43.878708],
            [17.601814, 43.880081],
            [17.616867, 43.910980],
            [17.645007, 43.937073],
            [17.656457, 43.964539],
            [17.675432, 43.994751],
            [17.695385, 44.007111],
            [17.697674, 44.011230],
            [17.705851, 44.015007],
            [17.715336, 44.028397],
            [17.722531, 44.040756],
            [17.735939, 44.051399],
            [17.743133, 44.082642],
            [17.745749, 44.103928],
            [17.749346, 44.114227],
            [17.748365, 44.131050],
            [17.736920, 44.146500],
            [17.724166, 44.158859],
            [17.721550, 44.170189],
            [17.711084, 44.179459],
            [17.706832, 44.181862],
            [17.694404, 44.222717],
            [17.591669, 44.257736],
            [17.589051, 44.242973],
            [17.571377, 44.233017],
            [17.577268, 44.214821],
            [17.567122, 44.205208],
            [17.550755, 44.218941],
            [17.550755, 44.223747],
            [17.560248, 44.227867],
            [17.555011, 44.242630],
            [17.550428, 44.244347],
            [17.549773, 44.259453],
            [17.545845, 44.261169],
            [17.541589, 44.246063],
            [17.533732, 44.236794],
            [17.517035, 44.212418]
        ];

        const tghZoneCoordinates = [
            [17.908019, 43.918362],
            [17.900995, 43.944454],
            [17.900015, 43.957500],
            [17.906386, 43.976727],
            [17.907202, 43.991489],
            [17.887906, 44.026337],
            [17.880064, 44.039383],
            [17.894440, 44.069595],
            [17.896400, 44.092255],
            [17.897707, 44.158173],
            [17.897054, 44.179459],
            [17.865033, 44.211044],
            [17.858497, 44.226151],
            [17.861765, 44.270096],
            [17.860458, 44.305115],
            [17.858497, 44.316101],
            [17.879410, 44.364166],
            [17.908815, 44.377899],
            [17.916656, 44.389572],
            [17.898361, 44.405365],
            [17.887906, 44.424591],
            [17.880164, 44.478579],
            [17.835885, 44.545698],
            [17.832943, 44.554882],
            [17.919279, 44.573572],
            [17.932988, 44.567392],
            [17.976813, 44.576254],
            [17.957184, 44.642268],
            [17.955219, 44.662170],
            [17.965791, 44.696546],
            [17.953581, 44.746284],
            [17.918737, 44.818726],
            [17.956606, 44.852886],
            [17.996037, 44.959574],
            [18.044277, 45.045319],
            [18.098876, 45.343312],
            [18.136737, 45.354266],
            [18.158922, 45.354245],
            [18.252951, 45.407782],
            [18.327192, 45.418768],
            [18.342825, 45.446298],
            [18.363649, 45.449023],
            [18.506796, 45.529575],
            [18.492308, 45.486832],
            [18.455186, 45.380402],
            [18.440082, 45.375981],
            [18.439838, 45.375595],
            [18.437599, 45.374908],
            [18.438413, 45.370789],
            [18.437599, 45.367870],
            [18.438413, 45.362892],
            [18.438087, 45.349846],
            [18.438576, 45.337658],
            [18.438902, 45.324612],
            [18.439553, 45.311952],
            [18.437965, 45.304914],
            [18.434668, 45.290451],
            [18.432388, 45.281353],
            [18.431085, 45.277405],
            [18.433039, 45.275173],
            [18.434342, 45.273027],
            [18.449487, 45.254745],
            [18.459501, 45.241742],
            [18.459582, 45.237923],
            [18.458768, 45.233974],
            [18.457954, 45.229511],
            [18.455511, 45.227795],
            [18.452743, 45.224876],
            [18.446393, 45.219555],
            [18.433324, 45.206337],
            [18.426850, 45.201359],
            [18.410727, 45.186596],
            [18.405189, 45.180931],
            [18.398836, 45.175095],
            [18.396393, 45.172863],
            [18.395090, 45.166512],
            [18.393950, 45.158958],
            [18.390692, 45.140591],
            [18.388737, 45.129433],
            [18.386457, 45.114326],
            [18.383199, 45.096989],
            [18.380755, 45.083599],
            [18.379452, 45.075188],
            [18.375379, 45.053215],
            [18.373913, 45.047035],
            [18.373424, 45.042915],
            [18.373098, 45.038280],
            [18.372121, 45.034161],
            [18.370981, 45.030899],
            [18.370818, 45.027466],
            [18.369677, 45.021286],
            [18.369189, 45.017166],
            [18.367396, 45.009441],
            [18.366092, 45.001545],
            [18.365604, 44.997597],
            [18.364790, 44.993992],
            [18.369187, 44.988027],
            [18.373098, 44.982662],
            [18.376357, 44.977169],
            [18.381244, 44.970989],
            [18.386619, 44.963093],
            [18.401117, 44.943008],
            [18.403723, 44.938717],
            [18.407632, 44.933739],
            [18.409749, 44.929790],
            [18.411867, 44.926701],
            [18.413984, 44.921894],
            [18.418707, 44.911423],
            [18.426036, 44.888034],
            [18.427624, 44.883785],
            [18.428520, 44.880095],
            [18.436703, 44.862671],
            [18.444439, 44.849753],
            [18.445416, 44.848294],
            [18.434749, 44.816923],
            [18.427503, 44.794693],
            [18.452908, 44.533768],
            [18.466585, 44.502869],
            [18.491169, 44.498749],
            [18.492635, 44.446735],
            [18.478470, 44.423561],
            [18.392320, 44.402790],
            [18.352243, 44.400043],
            [18.266030, 44.324512],
            [18.238641, 44.265289],
            [18.221684, 44.250183],
            [18.207171, 44.264088],
            [18.190537, 44.264088],
            [18.182546, 44.250355],
            [18.209780, 44.234047],
            [18.233587, 44.152851],
            [18.229184, 44.078522],
            [18.247771, 44.060841],
            [18.284286, 44.064789],
            [18.310364, 44.053802],
            [18.328616, 44.063244],
            [18.367395, 43.956299],
            [18.387433, 43.930378],
            [18.412029, 43.934498],
            [18.427827, 43.937416],
            [18.441182, 43.938961],
            [18.441344, 43.933125],
            [18.438413, 43.929691],
            [18.444276, 43.918362],
            [18.440530, 43.914070],
            [18.435156, 43.910980],
            [18.426199, 43.910465],
            [18.424733, 43.906345],
            [18.419684, 43.906002],
            [18.420498, 43.904457],
            [18.422616, 43.901367],
            [18.421639, 43.898792],
            [18.417567, 43.899136],
            [18.417241, 43.896904],
            [18.417567, 43.892956],
            [18.413658, 43.891926],
            [18.404699, 43.893299],
            [18.392646, 43.889351],
            [18.385315, 43.884544],
            [18.376029, 43.884716],
            [18.366255, 43.881454],
            [18.364462, 43.879566],
            [18.353220, 43.860683],
            [18.344422, 43.857765],
            [18.332690, 43.855019],
            [18.326334, 43.850727],
            [18.316883, 43.844891],
            [18.308571, 43.844547],
            [18.298303, 43.852444],
            [18.288524, 43.854675],
            [18.283471, 43.851414],
            [18.277277, 43.848495],
            [18.275484, 43.848667],
            [18.272061, 43.845577],
            [18.267497, 43.841629],
            [18.263910, 43.838711],
            [18.259835, 43.834763],
            [18.260487, 43.829784],
            [18.256411, 43.826523],
            [18.249564, 43.820343],
            [18.251115, 43.785925],
            [18.254865, 43.779659],
            [18.255028, 43.772621],
            [18.257391, 43.769875],
            [18.257636, 43.764381],
            [18.252338, 43.756742],
            [18.250870, 43.749189],
            [18.245490, 43.741894],
            [18.231469, 43.734941],
            [18.228045, 43.736401],
            [18.226333, 43.740950],
            [18.226414, 43.749704],
            [18.223887, 43.753910],
            [18.212636, 43.763866],
            [18.197226, 43.774166],
            [18.189154, 43.776484],
            [18.182467, 43.775454],
            [18.178308, 43.773909],
            [18.167380, 43.767128],
            [18.138673, 43.741293],
            [18.129211, 43.741078],
            [18.121992, 43.744512],
            [18.106655, 43.759232],
            [18.088624, 43.792276],
            [18.084830, 43.809443],
            [18.045458, 43.873301],
            [18.012280, 43.914714],
            [18.000733, 43.923855],
            [17.975426, 43.924928],
            [17.959219, 43.910422],
            [17.956198, 43.909564],
            [17.951462, 43.906345],
            [17.933130, 43.885617],
            [17.925986, 43.881969]
        ];

        const bghZoneCoordinates = [
            [17.559753, 43.634005],
            [17.562290, 43.639112],
            [17.569737, 43.647351],
            [17.575833, 43.651171],
            [17.584132, 43.652458],
            [17.605241, 43.648682],
            [17.620948, 43.646793],
            [17.628638, 43.647480],
            [17.631256, 43.649712],
            [17.629783, 43.655376],
            [17.624711, 43.662758],
            [17.612768, 43.668079],
            [17.597714, 43.670826],
            [17.580532, 43.675804],
            [17.530777, 43.706703],
            [17.523738, 43.724384],
            [17.515880, 43.738976],
            [17.517845, 43.758202],
            [17.518827, 43.763695],
            [17.516044, 43.772106],
            [17.515553, 43.784466],
            [17.521282, 43.787556],
            [17.530286, 43.787727],
            [17.535196, 43.792362],
            [17.539452, 43.806953],
            [17.554183, 43.828239],
            [17.564657, 43.834763],
            [17.575950, 43.844547],
            [17.580204, 43.849869],
            [17.587241, 43.853817],
            [17.603768, 43.859825],
            [17.643688, 43.862743],
            [17.660047, 43.858967],
            [17.679347, 43.847294],
            [17.695702, 43.846436],
            [17.719578, 43.851929],
            [17.731678, 43.850384],
            [17.742306, 43.846264],
            [17.749663, 43.841114],
            [17.756857, 43.842144],
            [17.761761, 43.849869],
            [17.771570, 43.872871],
            [17.777945, 43.878708],
            [17.785955, 43.876820],
            [17.809491, 43.871326],
            [17.822893, 43.867378],
            [17.829593, 43.860683],
            [17.837437, 43.857765],
            [17.851000, 43.864117],
            [17.906057, 43.875961],
            [17.925331, 43.882141],
            [17.933171, 43.885660],
            [17.951381, 43.906260],
            [17.956198, 43.909521],
            [17.959138, 43.910379],
            [17.969426, 43.920250],
            [17.975386, 43.924885],
            [18.000775, 43.923855],
            [18.012284, 43.914671],
            [18.024528, 43.900423],
            [18.045665, 43.873043],
            [18.068025, 43.838625],
            [18.084835, 43.809357],
            [18.088588, 43.792362],
            [18.106700, 43.759232],
            [18.122037, 43.744469],
            [18.129215, 43.741035],
            [18.138677, 43.741207],
            [18.154174, 43.754597],
            [18.167386, 43.766956],
            [18.178314, 43.773994],
            [18.177662, 43.768501],
            [18.178151, 43.756657],
            [18.170811, 43.751507],
            [18.164613, 43.739491],
            [18.153522, 43.727646],
            [18.140798, 43.719234],
            [18.124810, 43.716488],
            [18.116816, 43.718891],
            [18.111758, 43.713913],
            [18.101968, 43.711853],
            [18.096910, 43.705673],
            [18.089240, 43.702240],
            [18.075696, 43.689709],
            [18.063293, 43.684387],
            [18.055788, 43.684387],
            [18.038487, 43.692627],
            [18.026735, 43.702927],
            [18.021184, 43.708763],
            [18.017266, 43.708420],
            [18.014655, 43.703613],
            [18.002247, 43.695030],
            [17.991798, 43.689194],
            [17.980695, 43.676834],
            [17.966653, 43.667908],
            [17.958488, 43.667908],
            [17.949996, 43.658638],
            [17.939544, 43.667564],
            [17.925498, 43.652802],
            [17.918638, 43.640442],
            [17.911451, 43.632545],
            [17.910471, 43.622246],
            [17.902630, 43.618126],
            [17.899036, 43.612633],
            [17.889235, 43.617096],
            [17.879513, 43.622932],
            [17.870119, 43.628340],
            [17.869547, 43.632374],
            [17.866525, 43.634176],
            [17.865789, 43.637180],
            [17.862767, 43.636150],
            [17.858682, 43.642159],
            [17.858927, 43.645592],
            [17.856395, 43.646536],
            [17.856313, 43.648252],
            [17.855578, 43.650398],
            [17.856966, 43.653059],
            [17.858028, 43.657608],
            [17.856558, 43.657436],
            [17.854107, 43.656492],
            [17.853453, 43.655291],
            [17.853944, 43.654089],
            [17.853617, 43.652630],
            [17.851329, 43.652201],
            [17.849123, 43.650570],
            [17.846427, 43.650141],
            [17.844139, 43.651514],
            [17.842751, 43.653746],
            [17.840790, 43.653316],
            [17.837276, 43.651342],
            [17.832782, 43.650656],
            [17.829187, 43.649712],
            [17.828370, 43.650999],
            [17.826164, 43.650913],
            [17.826246, 43.653059],
            [17.825102, 43.653574],
            [17.822323, 43.652887],
            [17.821670, 43.654432],
            [17.820689, 43.654175],
            [17.819545, 43.651171],
            [17.818891, 43.648939],
            [17.816603, 43.647051],
            [17.813171, 43.649368],
            [17.813825, 43.652716],
            [17.812436, 43.652458],
            [17.810638, 43.654776],
            [17.808595, 43.653316],
            [17.809167, 43.651772],
            [17.808350, 43.649025],
            [17.804591, 43.649540],
            [17.802221, 43.652458],
            [17.802875, 43.654261],
            [17.800913, 43.654175],
            [17.800178, 43.652973],
            [17.797971, 43.651686],
            [17.795846, 43.653231],
            [17.796418, 43.655119],
            [17.795765, 43.656235],
            [17.791597, 43.656063],
            [17.791597, 43.653574],
            [17.787592, 43.656836],
            [17.783342, 43.655977],
            [17.782606, 43.659153],
            [17.782034, 43.659067],
            [17.780808, 43.657265],
            [17.780400, 43.653574],
            [17.779255, 43.653316],
            [17.778765, 43.655806],
            [17.776476, 43.656492],
            [17.777049, 43.652287],
            [17.775741, 43.651686],
            [17.774024, 43.655977],
            [17.772798, 43.657522],
            [17.774760, 43.661556],
            [17.769447, 43.660355],
            [17.770428, 43.658638],
            [17.768793, 43.657007],
            [17.766178, 43.656063],
            [17.763153, 43.658638],
            [17.762581, 43.661642],
            [17.766831, 43.662157],
            [17.765769, 43.664904],
            [17.762254, 43.664989],
            [17.762990, 43.667307],
            [17.764625, 43.672371],
            [17.768221, 43.675375],
            [17.766750, 43.677950],
            [17.762744, 43.674345],
            [17.761927, 43.672199],
            [17.759475, 43.672113],
            [17.759557, 43.674002],
            [17.756941, 43.672800],
            [17.756696, 43.675289],
            [17.757431, 43.677692],
            [17.757023, 43.678808],
            [17.753099, 43.678293],
            [17.751382, 43.678894],
            [17.753181, 43.680353],
            [17.754407, 43.681297],
            [17.754243, 43.683529],
            [17.754815, 43.684988],
            [17.753099, 43.685417],
            [17.750074, 43.683872],
            [17.750238, 43.685846],
            [17.749666, 43.687391],
            [17.747131, 43.685760],
            [17.748112, 43.689623],
            [17.749993, 43.691511],
            [17.747213, 43.693657],
            [17.745496, 43.696060],
            [17.739283, 43.697176],
            [17.740837, 43.699408],
            [17.741899, 43.702755],
            [17.743371, 43.705072],
            [17.744515, 43.705587],
            [17.743453, 43.707905],
            [17.740183, 43.707047],
            [17.741245, 43.704386],
            [17.740183, 43.703270],
            [17.737567, 43.707476],
            [17.734297, 43.710737],
            [17.731353, 43.711338],
            [17.730536, 43.707819],
            [17.727756, 43.707132],
            [17.725303, 43.710566],
            [17.725876, 43.715458],
            [17.724486, 43.717432],
            [17.721134, 43.717346],
            [17.710096, 43.715372],
            [17.706010, 43.715458],
            [17.705847, 43.712368],
            [17.702740, 43.712025],
            [17.704048, 43.710308],
            [17.699632, 43.707733],
            [17.703067, 43.708420],
            [17.700287, 43.704300],
            [17.697179, 43.703442],
            [17.694399, 43.701725],
            [17.692436, 43.704472],
            [17.691128, 43.703270],
            [17.691619, 43.699837],
            [17.688511, 43.697605],
            [17.690474, 43.694687],
            [17.687530, 43.691425],
            [17.689493, 43.686962],
            [17.686549, 43.686104],
            [17.684259, 43.688507],
            [17.681806, 43.685417],
            [17.680824, 43.681812],
            [17.671992, 43.679409],
            [17.664795, 43.681812],
            [17.662828, 43.677006],
            [17.664627, 43.674431],
            [17.662664, 43.666706],
            [17.667244, 43.670654],
            [17.670025, 43.667221],
            [17.666099, 43.662415],
            [17.667081, 43.657780],
            [17.664954, 43.651085],
            [17.659393, 43.644562],
            [17.661683, 43.640957],
            [17.659883, 43.639755],
            [17.662173, 43.635807],
            [17.660701, 43.634090],
            [17.659393, 43.635635],
            [17.655630, 43.633404],
            [17.660701, 43.630142],
            [17.660211, 43.628254],
            [17.655630, 43.628597],
            [17.654158, 43.621559],
            [17.658084, 43.621044],
            [17.660865, 43.617954],
            [17.657266, 43.616581],
            [17.653504, 43.613834],
            [17.650069, 43.613491],
            [17.641890, 43.615036],
            [17.602296, 43.627052],
            [17.578569, 43.628426]
        ];

        const yghZoneCoordinates = [
            [18.506957, 45.527344],
            [18.454857, 45.380402],
            [18.437921, 45.374908],
            [18.439224, 45.311737],
            [18.431407, 45.277405],
            [18.460068, 45.241699],
            [18.457463, 45.229340],
            [18.396226, 45.173035],
            [18.364948, 44.994507],
            [18.411863, 44.927216],
            [18.445738, 44.848938],
            [18.427499, 44.795380],
            [18.453555, 44.533081],
            [18.466581, 44.502869],
            [18.491329, 44.498749],
            [18.492631, 44.446564],
            [18.478304, 44.423218],
            [18.392317, 44.402618],
            [18.351914, 44.399872],
            [18.265863, 44.324341],
            [18.238475, 44.265289],
            [18.221518, 44.250183],
            [18.207168, 44.263916],
            [18.190208, 44.263916],
            [18.182380, 44.250183],
            [18.209777, 44.233704],
            [18.233257, 44.152679],
            [18.229344, 44.078522],
            [18.247605, 44.060669],
            [18.284120, 44.064789],
            [18.310198, 44.053802],
            [18.328450, 44.063416],
            [18.367555, 43.956299],
            [18.387104, 43.930206],
            [18.411863, 43.934326],
            [18.402742, 43.943939],
            [18.420984, 43.963165],
            [18.428801, 43.985138],
            [18.444435, 44.004364],
            [18.477002, 43.916473],
            [18.501748, 43.946686],
            [18.519979, 43.948059],
            [18.548625, 43.956299],
            [18.553833, 43.996124],
            [18.572059, 44.002991],
            [18.588982, 43.997498],
            [18.585077, 43.981018],
            [18.604601, 43.974152],
            [18.624123, 43.990631],
            [18.647547, 43.986511],
            [18.676171, 44.016724],
            [18.749012, 44.086761],
            [18.752913, 44.122467],
            [18.765917, 44.137573],
            [18.807522, 44.090881],
            [18.816621, 44.064789],
            [18.830920, 44.090881],
            [18.858214, 44.099121],
            [18.862112, 44.129333],
            [18.899796, 44.141693],
            [18.890701, 44.195251],
            [18.923181, 44.228210],
            [18.954356, 44.313354],
            [18.940068, 44.320221],
            [18.933573, 44.376526],
            [19.090673, 44.365540],
            [19.111436, 44.400558],
            [19.143225, 44.410858],
            [19.185384, 44.421844],
            [19.189924, 44.434204],
            [19.204190, 44.440384],
            [19.199651, 44.452744],
            [19.191869, 44.460983],
            [19.173710, 44.463043],
            [19.165279, 44.471283],
            [19.202893, 44.480896],
            [19.211323, 44.489136],
            [19.224291, 44.468536],
            [19.232719, 44.448624],
            [19.240499, 44.452744],
            [19.262213, 44.445877],
            [19.283927, 44.467163],
            [19.292028, 44.468536],
            [19.297537, 44.477119],
            [19.304018, 44.473686],
            [19.307582, 44.474716],
            [19.310174, 44.480209],
            [19.316006, 44.477463],
            [19.318274, 44.453773],
            [19.319570, 44.434547],
            [19.316654, 44.425278],
            [19.313414, 44.420128],
            [19.317626, 44.413605],
            [19.317626, 44.388542],
            [19.320866, 44.386826],
            [19.333501, 44.395752],
            [19.354558, 44.395409],
            [19.362332, 44.390945],
            [19.365895, 44.386482],
            [19.375936, 44.389572],
            [19.391157, 44.383049],
            [19.406054, 44.384422],
            [19.418683, 44.390945],
            [19.419978, 44.553680],
            [19.449120, 45.089264],
            [19.209377, 45.119476],
            [19.305317, 45.362549],
            [19.305317, 45.405807],
            [19.296244, 45.406494],
            [19.316976, 46.537228],
            [19.080329, 46.540747],
            [18.914751, 46.347188],
            [18.513754, 45.541377]
        ];

        const hghZoneCoordinates = [
            [17.583055, 43.851457],
            [17.582523, 43.852959],
            [17.582994, 43.856542],
            [17.582666, 43.865082],
            [17.583300, 43.866305],
            [17.594100, 43.877399],
            [17.599398, 43.879094],
            [17.600482, 43.880167],
            [17.602262, 43.883085],
            [17.608846, 43.897934],
            [17.609992, 43.900938],
            [17.619563, 43.914499],
            [17.633061, 43.927031],
            [17.640750, 43.932610],
            [17.645657, 43.938446],
            [17.650810, 43.951578],
            [17.655145, 43.962994],
            [17.664796, 43.977242],
            [17.672157, 43.990459],
            [17.675183, 43.994751],
            [17.694318, 44.006424],
            [17.695954, 44.008312],
            [17.697098, 44.010544],
            [17.700206, 44.010973],
            [17.704049, 44.013462],
            [17.713452, 44.024448],
            [17.718521, 44.033289],
            [17.722200, 44.039555],
            [17.725470, 44.042988],
            [17.732747, 44.048052],
            [17.735608, 44.052343],
            [17.736426, 44.059296],
            [17.740758, 44.071913],
            [17.743538, 44.083500],
            [17.743620, 44.087877],
            [17.745745, 44.104013],
            [17.748361, 44.113111],
            [17.748770, 44.125128],
            [17.747625, 44.130707],
            [17.744437, 44.136801],
            [17.740840, 44.140749],
            [17.737488, 44.145298],
            [17.732420, 44.148560],
            [17.722854, 44.159031],
            [17.721873, 44.162550],
            [17.721955, 44.165640],
            [17.718030, 44.172506],
            [17.711326, 44.178686],
            [17.706175, 44.181604],
            [17.703231, 44.195766],
            [17.698325, 44.213276],
            [17.694400, 44.222975],
            [17.704376, 44.223404],
            [17.739287, 44.241686],
            [17.771412, 44.252501],
            [17.779667, 44.253788],
            [17.797239, 44.264517],
            [17.804512, 44.270868],
            [17.811949, 44.290953],
            [17.822572, 44.306660],
            [17.830988, 44.312067],
            [17.858604, 44.315844],
            [17.860483, 44.305201],
            [17.861953, 44.270096],
            [17.858604, 44.226065],
            [17.865385, 44.210787],
            [17.897242, 44.179459],
            [17.897814, 44.158001],
            [17.896589, 44.092169],
            [17.894628, 44.069681],
            [17.880252, 44.039555],
            [17.907452, 43.991661],
            [17.906553, 43.976898],
            [17.899937, 43.957586],
            [17.901081, 43.944283],
            [17.908105, 43.918362],
            [17.926072, 43.882313],
            [17.907207, 43.876219],
            [17.851333, 43.864202],
            [17.837525, 43.857765],
            [17.829681, 43.860683],
            [17.822981, 43.867464],
            [17.778033, 43.878708],
            [17.771739, 43.872957],
            [17.761931, 43.849869],
            [17.756863, 43.842144],
            [17.749587, 43.841114],
            [17.742312, 43.846264],
            [17.731684, 43.850470],
            [17.719911, 43.851929],
            [17.695708, 43.846350],
            [17.679435, 43.847294],
            [17.660134, 43.859053],
            [17.643367, 43.862829],
            [17.603774, 43.859911],
            [17.587083, 43.853817]
        ];

        const map = L.map('map').setView([18.0, 48.0], 7);

        const minimalistMap = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '¬© OpenStreetMap contributors ¬© CARTO',
            subdomains: 'abcd',
            maxZoom: 20
        });

        minimalistMap.addTo(map);

        const sghPolygon = L.polygon(sghZoneCoordinates, {
            fillColor: '#4A90E2',
            fillOpacity: 0.5,
            weight: 2,
            color: '#4A90E2'
        }).addTo(map);

        const kghPolygon = L.polygon(kghZoneCoordinates, {
            fillColor: '#5BA3F5',
            fillOpacity: 0.5,
            weight: 2,
            color: '#5BA3F5'
        }).addTo(map);

        const nnghPolygon = L.polygon(nnghZoneCoordinates, {
            fillColor: '#357ABD',
            fillOpacity: 0.5,
            weight: 2,
            color: '#357ABD'
        }).addTo(map);

        const wnhPolygon = L.polygon(wnhZoneCoordinates, {
            fillColor: '#6BB6FF',
            fillOpacity: 0.5,
            weight: 2,
            color: '#6BB6FF'
        }).addTo(map);

        const mchPolygon = L.polygon(mchZoneCoordinates, {
            fillColor: '#2E5C8A',
            fillOpacity: 0.5,
            weight: 2,
            color: '#2E5C8A'
        }).addTo(map);

        const kkhPolygon = L.polygon(kkhZoneCoordinates, {
            fillColor: '#7FC8F8',
            fillOpacity: 0.5,
            weight: 2,
            color: '#7FC8F8'
        }).addTo(map);

        const tghPolygon = L.polygon(tghZoneCoordinates, {
            fillColor: '#1E6BA8',
            fillOpacity: 0.5,
            weight: 2,
            color: '#1E6BA8'
        }).addTo(map);

        const bghPolygon = L.polygon(bghZoneCoordinates, {
            fillColor: '#8CC8FF',
            fillOpacity: 0.5,
            weight: 2,
            color: '#8CC8FF'
        }).addTo(map);

        const yghPolygon = L.polygon(yghZoneCoordinates, {
            fillColor: '#2563A5',
            fillOpacity: 0.5,
            weight: 2,
            color: '#2563A5'
        }).addTo(map);

        const hghPolygon = L.polygon(hghZoneCoordinates, {
            fillColor: '#4A9EFF',
            fillOpacity: 0.5,
            weight: 2,
            color: '#4A9EFF'
        }).addTo(map);

        const group = new L.featureGroup([sghPolygon, kghPolygon, nnghPolygon, wnhPolygon, mchPolygon, kkhPolygon, tghPolygon, bghPolygon, yghPolygon, hghPolygon]);
        map.fitBounds(group.getBounds(), {
            padding: [50, 50]
        });

        const zonePolygons = {
            sgh: sghPolygon,
            kgh: kghPolygon,
            nngh: nnghPolygon,
            wnh: wnhPolygon,
            mch: mchPolygon,
            kkh: kkhPolygon,
            tgh: tghPolygon,
            bgh: bghPolygon,
            ygh: yghPolygon,
            hgh: hghPolygon
        };

        map.getPane('markerPane').style.zIndex = 400;
        map.getPane('overlayPane').style.zIndex = 500;

        const allPolygons = [sghPolygon, kghPolygon, nnghPolygon, wnhPolygon, mchPolygon, kkhPolygon, tghPolygon, bghPolygon, yghPolygon, hghPolygon];
        const originalColors = ['#4A90E2', '#5BA3F5', '#357ABD', '#6BB6FF', '#2E5C8A', '#7FC8F8', '#1E6BA8', '#8CC8FF', '#2563A5', '#4A9EFF'];
        
        let activePolygon = null;

        const dimAllZonesExcept = (activePolygon) => {
            allPolygons.forEach((polygon, index) => {
                if (polygon === activePolygon) {
                    polygon.setStyle({
                        fillOpacity: 0.5,
                        weight: 2,
                        color: originalColors[index],
                        fillColor: originalColors[index]
                    });
                } else {
                    polygon.setStyle({
                        fillOpacity: 0.15,
                        weight: 0,
                        fillColor: originalColors[index]
                    });
                }
            });
        };

        const resetAllZones = () => {
            allPolygons.forEach((polygon, index) => {
                const colors = ['#4A90E2', '#5BA3F5', '#357ABD', '#6BB6FF', '#2E5C8A', '#7FC8F8', '#1E6BA8', '#8CC8FF', '#2563A5', '#4A9EFF'];
                polygon.setStyle({
                    fillOpacity: 0.5,
                    weight: 2,
                    fillColor: colors[index],
                    color: colors[index]
                });
            });
        };

        let currentZoneLabel = null;

        const showZoneLabel = (polygon, zoneName) => {
            if (currentZoneLabel && currentZoneLabel !== polygon) {
                currentZoneLabel.unbindTooltip();
            }
            const bounds = polygon.getBounds();
            const center = bounds.getCenter();
            polygon.bindTooltip(zoneName, {
                permanent: true,
                direction: 'center',
                className: 'zone-label-tooltip',
                offset: [0, 0]
            });
            polygon.openTooltip(center);
            currentZoneLabel = polygon;
        };

        const healthcareCenters = [
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßÿ≥ŸÉÿßŸÜ ŸÇŸàŸâ ÿßŸÑÿßŸÖŸÜ ÿ®ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.4802438, lng: 47.13076738, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ±Ÿàÿ∂ÿ© ÿßŸÑÿ¥ŸÖÿßŸÑŸäÿ© ÿ®ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.51024315, lng: 47.10210837, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿπÿ≤Ÿäÿ≤Ÿäÿ© ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.49644463, lng: 47.11248781, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑŸàÿØŸäÿπÿ© ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.05604376, lng: 47.09488983, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ≥ŸÑÿ∑ÿßŸÜŸá ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.48100418, lng: 47.11810708, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ™ŸÖÿßŸÜŸä ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.7237, lng: 46.1389411, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿßÿÆÿßÿ¥ŸäŸÖ', lat: 17.7212795, lng: 47.2143375, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿÆÿßŸÑÿØŸäÿ© ÿ®ÿ¥ÿ±Ÿàÿ±ÿ©', lat: 17.49589037, lng: 47.12088168, zone: 'sgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ™ÿµŸÑÿßŸÑ', lat: 17.63142516, lng: 44.4718774, zone: 'kgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ¥ÿπŸÑŸäÿ©', lat: 17.7596349, lng: 44.46164075, zone: 'kgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ¨ŸÜŸàÿ® ÿßŸÑŸÖÿ∑ÿßÿ±', lat: 17.5939663, lng: 44.44931437, zone: 'kgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ©ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿ∫ŸàŸäŸÑÿ©', lat: 17.60163679, lng: 44.52500373, zone: 'kgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿÆÿ±ÿπÿßÿ°', lat: 17.53103729, lng: 44.56510464, zone: 'kgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿÆÿ®ÿßÿ¥', lat: 17.55435111, lng: 44.70508114, zone: 'kgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ŸÄ ÿßŸÑÿ¥ÿ±ŸÅÿ©', lat: 17.51436563, lng: 44.29527963, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ≠ŸÖÿ±', lat: 17.46992373, lng: 44.18192437, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ®ÿ±ŸÉ', lat: 17.5619045, lng: 44.33461938, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿ≠ÿµŸäŸÜŸäÿ©', lat: 17.81193406, lng: 44.44693271, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿπÿ±Ÿäÿ≥ÿ©', lat: 17.56253263, lng: 44.30852923, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ±ÿ¨ŸÑÿßÿ°', lat: 17.4974044, lng: 44.21335344, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ŸàÿßÿØŸä ÿ±ŸäŸÖÿßŸÜ', lat: 17.5455171, lng: 44.38632901, zone: 'nngh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿ®ŸÑÿØ', lat: 17.49420914, lng: 44.13150175, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ¨ÿ±ÿ®ÿ©', lat: 17.47110123, lng: 44.15016604, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ£ÿ®ÿß ÿßŸÑÿ≥ÿπŸàÿØ', lat: 17.48452285, lng: 44.12842703, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäŸá ÿßŸÑÿµÿ≠ŸäŸá ÿßŸÑÿßŸàŸÑŸäŸá ÿ®ÿßŸÑŸÖŸàŸÅÿ¨ÿ©', lat: 17.43864766, lng: 44.05285434, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ≠ÿ∂ŸÜ', lat: 17.45825564, lng: 44.12599991, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿµŸÅÿß', lat: 17.4633955, lng: 44.07759645, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿßÿ®ŸÑ', lat: 17.48997978, lng: 44.19169454, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÖÿ±ÿßÿ∑Ÿá', lat: 17.48982264, lng: 44.10260304, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿØÿ≠ÿ∂Ÿá', lat: 17.51695355, lng: 44.16039583, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ¥ÿπÿ® ÿ±Ÿäÿ±', lat: 17.46419144, lng: 44.16237482, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ¥ÿ®ŸáÿßŸÜ', lat: 17.48417091, lng: 44.12151161, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ŸÜŸáŸàŸÇÿ©', lat: 17.44634448, lng: 44.10357423, zone: 'wnh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿßÿ´ÿßŸäÿ®Ÿá', lat: 17.554978, lng: 44.252263, zone: 'mch' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ≠Ÿä ÿßŸÑŸÅŸáÿØ ÿßŸÑÿ¨ŸÜŸàÿ®Ÿä', lat: 17.56809955, lng: 44.22254192, zone: 'mch' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿÆÿßŸÑÿØŸäÿ© ÿ®ŸÜÿ¨ÿ±ÿßŸÜ', lat: 17.54325635, lng: 44.23095685, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ≠Ÿä ÿßŸÑŸÅŸáÿØ ÿßŸÑÿ¥ŸÖÿßŸÑŸä', lat: 17.57525868, lng: 44.23019571, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠Ÿä ÿßŸÑÿ∂ÿ®ÿßÿ∑', lat: 17.53174619, lng: 44.20465925, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠Ÿä ÿßŸÑŸÅŸäÿµŸÑŸäÿ©', lat: 17.52434888, lng: 44.18856931, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ¶ÿ± ÿπÿ≥ŸÉÿ±', lat: 17.5758571, lng: 44.04300509, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ£ŸÖŸäÿ± ŸÖÿ¥ÿπŸÑ', lat: 17.55814636, lng: 44.23037093, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ∂ŸäÿßŸÅÿ©', lat: 17.54117504, lng: 44.21656854, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÉŸÜÿ™Ÿàÿ®', lat: 17.52613818, lng: 44.20995694, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿπÿßŸÉŸÅŸá', lat: 17.49513154, lng: 43.74081721, zone: 'kkh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ¨ŸÅŸá', lat: 17.77329562, lng: 43.91604472, zone: 'hgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ≠ÿ±ÿ¥ŸÅ', lat: 17.67157909, lng: 43.88503866, zone: 'hgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖŸÜÿ™ÿ¥ÿ±', lat: 17.88795838, lng: 44.171646, zone: 'hgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠ÿ®ŸàŸÜÿß', lat: 17.85048519, lng: 44.01969491, zone: 'hgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿ∂ŸäŸÇÿ©', lat: 17.85470235, lng: 44.27155056, zone: 'hgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäŸá ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ¨ŸÖÿπ', lat: 17.75457056, lng: 43.96086896, zone: 'hgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿßŸÑÿÆÿßŸÜŸÇ', lat: 17.74396059, lng: 43.76283045, zone: 'bgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿ±ŸÜ', lat: 17.75285114, lng: 43.71795687, zone: 'bgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ±ÿ≠ÿßÿ®', lat: 18.00721995, lng: 43.89921, zone: 'bgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÖŸÑŸäÿ≠ÿ©', lat: 17.99223082, lng: 43.82004094, zone: 'bgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ®', lat: 17.8788742, lng: 43.71604, zone: 'bgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ŸáÿØÿßÿØŸá', lat: 17.61097958, lng: 43.75963065, zone: 'bgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ŸàÿßÿØŸä Ÿàÿ≥ÿ∑', lat: 18.29824487, lng: 44.20244981, zone: 'ygh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ŸäÿØŸÖÿ©', lat: 18.53280931, lng: 44.20531118, zone: 'ygh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÑÿ¨ÿßŸÖ', lat: 18.59928839, lng: 44.18008645, zone: 'ygh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ™ŸÑÿßÿπ', lat: 18.0529148, lng: 43.98022, zone: 'tgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ≥ŸÑÿ∑ÿßŸÜÿ©', lat: 18.85983969, lng: 45.11052394, zone: 'ygh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ≠ŸÖÿØŸäÿ©', lat: 18.4440713, lng: 44.79583144, zone: 'ygh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿµŸÅÿßÿ≠', lat: 18.1823639, lng: 44.33625415, zone: 'tgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ´ÿßÿ±', lat: 17.97677191, lng: 44.10630215, zone: 'tgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ≠ŸÖÿß', lat: 18.20931322, lng: 44.48405551, zone: 'tgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ∑ŸÑÿ≠ÿßŸÖ', lat: 18.27707155, lng: 43.995497, zone: 'tgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ŸÇÿ∑ŸÜ', lat: 18.13527449, lng: 44.12734562, zone: 'tgh' },
            { name: 'ŸÖÿ±ŸÉÿ≤ÿµÿ≠Ÿä ŸÜÿπŸàÿßŸÜ', lat: 18.29489278, lng: 43.87686073, zone: 'tgh' }
        ];

        // DM/Pre-DM Screening Data from organizations_counts_zone_geo_dm_predm_screening.csv
        const organizationsDmPredmScreeningData = [
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'khaldiya health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿÆÿßŸÑÿØŸäÿ© ÿ®ŸÜÿ¨ÿ±ÿßŸÜ', dmPatients: 74.0, controlledDm: 54.0, uncontrolledDm: 20.0, uncontrolledDmNoVisit30days: 13.0, preDmPatients: 568.0, preDmToNormal: 148.0, preDmPatientsNoVisit90days: 297.0, screenedByPhc: 1987.0, targetByPhc: 3350.0, latitude: 17.54325635, longitude: 44.23095685 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'primary health care center north', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ≠Ÿä ÿßŸÑŸÅŸáÿØ ÿßŸÑÿ¥ŸÖÿßŸÑŸä', dmPatients: 71.0, controlledDm: 60.0, uncontrolledDm: 11.0, uncontrolledDmNoVisit30days: 11.0, preDmPatients: 1238.0, preDmToNormal: 359.0, preDmPatientsNoVisit90days: 661.0, screenedByPhc: 2656.0, targetByPhc: 8238.0, latitude: 17.57525868, longitude: 44.23019571 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'ALDUBAT PHCC', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠Ÿä ÿßŸÑÿ∂ÿ®ÿßÿ∑', dmPatients: 89.0, controlledDm: 57.0, uncontrolledDm: 32.0, uncontrolledDmNoVisit30days: 26.0, preDmPatients: 861.0, preDmToNormal: 234.0, preDmPatientsNoVisit90days: 622.0, screenedByPhc: 3557.0, targetByPhc: 7327.0, latitude: 17.53174619, longitude: 44.20465925 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'Al Faisaliah Health Center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠Ÿä ÿßŸÑŸÅŸäÿµŸÑŸäÿ©', dmPatients: 54.0, controlledDm: 44.0, uncontrolledDm: 10.0, uncontrolledDmNoVisit30days: 6.0, preDmPatients: 452.0, preDmToNormal: 102.0, preDmPatientsNoVisit90days: 280.0, screenedByPhc: 1682.0, targetByPhc: 2986.0, latitude: 17.52434888, longitude: 44.18856931 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'Biraskar phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ¶ÿ± ÿπÿ≥ŸÉÿ±', dmPatients: 32.0, controlledDm: 23.0, uncontrolledDm: 9.0, uncontrolledDmNoVisit30days: 5.0, preDmPatients: 309.0, preDmToNormal: 99.0, preDmPatientsNoVisit90days: 198.0, screenedByPhc: 869.0, targetByPhc: 1373.0, latitude: 17.5758571, longitude: 44.04300509 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'prince mishal health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ£ŸÖŸäÿ± ŸÖÿ¥ÿπŸÑ', dmPatients: 92.0, controlledDm: 68.0, uncontrolledDm: 24.0, uncontrolledDmNoVisit30days: 21.0, preDmPatients: 480.0, preDmToNormal: 95.0, preDmPatientsNoVisit90days: 332.0, screenedByPhc: 1477.0, targetByPhc: 4045.0, latitude: 17.55814636, longitude: 44.23037093 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'Primary Health Care Center DIYAFA', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ∂ŸäÿßŸÅÿ©', dmPatients: 0.0, controlledDm: 0.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 148.0, preDmToNormal: 84.0, preDmPatientsNoVisit90days: 24.0, screenedByPhc: 290.0, targetByPhc: 1089.0, latitude: 17.54117504, longitude: 44.21656854 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'al contub', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÉŸÜÿ™Ÿàÿ®', dmPatients: 52.0, controlledDm: 37.0, uncontrolledDm: 15.0, uncontrolledDmNoVisit30days: 18.0, preDmPatients: 292.0, preDmToNormal: 68.0, preDmPatientsNoVisit90days: 198.0, screenedByPhc: 823.0, targetByPhc: 1135.0, latitude: 17.52613818, longitude: 44.20995694 },
            { zone_en: 'KKH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', organization_en: 'Aqfah phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿπÿßŸÉŸÅŸá', dmPatients: 23.0, controlledDm: 19.0, uncontrolledDm: 4.0, uncontrolledDmNoVisit30days: 1.0, preDmPatients: 243.0, preDmToNormal: 71.0, preDmPatientsNoVisit90days: 150.0, screenedByPhc: 578.0, targetByPhc: 530.0, latitude: 17.49513154, longitude: 43.74081721 },
            { zone_en: 'MCH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸàŸÑÿßÿØÿ© ŸàÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ', organization_en: 'atheabah phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿßÿ´ÿßŸäÿ®Ÿá', dmPatients: 78.0, controlledDm: 51.0, uncontrolledDm: 27.0, uncontrolledDmNoVisit30days: 23.0, preDmPatients: 526.0, preDmToNormal: 148.0, preDmPatientsNoVisit90days: 334.0, screenedByPhc: 1449.0, targetByPhc: 6737.0, latitude: 17.554978, longitude: 44.252263 },
            { zone_en: 'MCH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸàŸÑÿßÿØÿ© ŸàÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ', organization_en: 'al fahad al janubi phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ≠Ÿä ÿßŸÑŸÅŸáÿØ ÿßŸÑÿ¨ŸÜŸàÿ®Ÿä', dmPatients: 75.0, controlledDm: 58.0, uncontrolledDm: 17.0, uncontrolledDmNoVisit30days: 13.0, preDmPatients: 739.0, preDmToNormal: 190.0, preDmPatientsNoVisit90days: 422.0, screenedByPhc: 1914.0, targetByPhc: 4843.0, latitude: 17.56809955, longitude: 44.22254192 },
            { zone_en: 'BGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', organization_en: 'Primary Care Alkhaniq', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿßŸÑÿÆÿßŸÜŸÇ', dmPatients: 11.0, controlledDm: 9.0, uncontrolledDm: 2.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 87.0, preDmToNormal: 22.0, preDmPatientsNoVisit90days: 41.0, screenedByPhc: 275.0, targetByPhc: 685.0, latitude: 17.74396059, longitude: 43.76283045 },
            { zone_en: 'BGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', organization_en: 'AL- qarn', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿ±ŸÜ', dmPatients: 0, controlledDm: 0, uncontrolledDm: 0, uncontrolledDmNoVisit30days: 0, preDmPatients: 0, preDmToNormal: 0, preDmPatientsNoVisit90days: 0, screenedByPhc: 0, targetByPhc: 0, latitude: 17.75285114, longitude: 43.71795687 },
            { zone_en: 'BGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', organization_en: 'alrehab Primary care center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ±ÿ≠ÿßÿ®', dmPatients: 2.0, controlledDm: 1.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 1.0, preDmPatients: 29.0, preDmToNormal: 3.0, preDmPatientsNoVisit90days: 8.0, screenedByPhc: 119.0, targetByPhc: 187.0, latitude: 18.00721995, longitude: 43.89921 },
            { zone_en: 'BGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', organization_en: 'maleha public health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÖŸÑŸäÿ≠ÿ©', dmPatients: 1.0, controlledDm: 1.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 38.0, preDmToNormal: 11.0, preDmPatientsNoVisit90days: 18.0, screenedByPhc: 85.0, targetByPhc: 135.0, latitude: 17.99223082, longitude: 43.82004094 },
            { zone_en: 'BGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', organization_en: 'bader aljanoob primary health care', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ®', dmPatients: 25.0, controlledDm: 19.0, uncontrolledDm: 6.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 109.0, preDmToNormal: 20.0, preDmPatientsNoVisit90days: 65.0, screenedByPhc: 385.0, targetByPhc: 991.0, latitude: 17.8788742, longitude: 43.71604 },
            { zone_en: 'BGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', organization_en: 'Hadadah health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ŸáÿØÿßÿØŸá', dmPatients: 13.0, controlledDm: 10.0, uncontrolledDm: 3.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 138.0, preDmToNormal: 42.0, preDmPatientsNoVisit90days: 64.0, screenedByPhc: 265.0, targetByPhc: 521.0, latitude: 17.61097958, longitude: 43.75963065 },
            { zone_en: 'TGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', organization_en: 'suffah phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿµŸÅÿßÿ≠', dmPatients: 8.0, controlledDm: 3.0, uncontrolledDm: 5.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 137.0, preDmToNormal: 22.0, preDmPatientsNoVisit90days: 75.0, screenedByPhc: 365.0, targetByPhc: 381.0, latitude: 18.1823639, longitude: 44.33625415 },
            { zone_en: 'TGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', organization_en: 'thar phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ´ÿßÿ±', dmPatients: 50.0, controlledDm: 29.0, uncontrolledDm: 21.0, uncontrolledDmNoVisit30days: 18.0, preDmPatients: 336.0, preDmToNormal: 40.0, preDmPatientsNoVisit90days: 218.0, screenedByPhc: 886.0, targetByPhc: 1239.0, latitude: 17.97677191, longitude: 44.10630215 },
            { zone_en: 'TGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', organization_en: 'hema phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ≠ŸÖÿß', dmPatients: 5.0, controlledDm: 4.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 1.0, preDmPatients: 83.0, preDmToNormal: 23.0, preDmPatientsNoVisit90days: 39.0, screenedByPhc: 259.0, targetByPhc: 190.0, latitude: 18.20931322, longitude: 44.48405551 },
            { zone_en: 'TGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', organization_en: 'talham phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ∑ŸÑÿ≠ÿßŸÖ', dmPatients: 3.0, controlledDm: 2.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 1.0, preDmPatients: 46.0, preDmToNormal: 5.0, preDmPatientsNoVisit90days: 27.0, screenedByPhc: 149.0, targetByPhc: 136.0, latitude: 18.27707155, longitude: 43.995497 },
            { zone_en: 'TGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', organization_en: 'qattan phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ŸÇÿ∑ŸÜ', dmPatients: 15.0, controlledDm: 5.0, uncontrolledDm: 10.0, uncontrolledDmNoVisit30days: 10.0, preDmPatients: 133.0, preDmToNormal: 8.0, preDmPatientsNoVisit90days: 55.0, screenedByPhc: 246.0, targetByPhc: 190.0, latitude: 18.13527449, longitude: 44.12734562 },
            { zone_en: 'TGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', organization_en: 'naiwan phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ÿµÿ≠Ÿä ŸÜÿπŸàÿßŸÜ', dmPatients: 4.0, controlledDm: 2.0, uncontrolledDm: 2.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 102.0, preDmToNormal: 17.0, preDmPatientsNoVisit90days: 50.0, screenedByPhc: 211.0, targetByPhc: 280.0, latitude: 18.29489278, longitude: 43.87686073 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'AL JAFFAH PHCC', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ¨ŸÅŸá', dmPatients: 11.0, controlledDm: 6.0, uncontrolledDm: 5.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 111.0, preDmToNormal: 13.0, preDmPatientsNoVisit90days: 63.0, screenedByPhc: 556.0, targetByPhc: 563.0, latitude: 17.77329562, longitude: 43.91604472 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'al harshar phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ≠ÿ±ÿ¥ŸÅ', dmPatients: 7.0, controlledDm: 6.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 76.0, preDmToNormal: 13.0, preDmPatientsNoVisit90days: 55.0, screenedByPhc: 377.0, targetByPhc: 424.0, latitude: 17.67157909, longitude: 43.88503866 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'ALMONTSHER  PHCC', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖŸÜÿ™ÿ¥ÿ±', dmPatients: 48.0, controlledDm: 35.0, uncontrolledDm: 13.0, uncontrolledDmNoVisit30days: 11.0, preDmPatients: 155.0, preDmToNormal: 20.0, preDmPatientsNoVisit90days: 65.0, screenedByPhc: 776.0, targetByPhc: 971.0, latitude: 17.88795838, longitude: 44.171646 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'Habuna primary Health Care Center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠ÿ®ŸàŸÜÿß', dmPatients: 0.0, controlledDm: 0.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 40.0, preDmToNormal: 9.0, preDmPatientsNoVisit90days: 26.0, screenedByPhc: 89.0, targetByPhc: 2509.0, latitude: 17.85048519, longitude: 44.01969491 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'dekah', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿ∂ŸäŸÇÿ©', dmPatients: 28.0, controlledDm: 22.0, uncontrolledDm: 6.0, uncontrolledDmNoVisit30days: 5.0, preDmPatients: 162.0, preDmToNormal: 23.0, preDmPatientsNoVisit90days: 112.0, screenedByPhc: 855.0, targetByPhc: 1264.0, latitude: 17.85470235, longitude: 44.27155056 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'majma', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäŸá ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ¨ŸÖÿπ', dmPatients: 13.0, controlledDm: 9.0, uncontrolledDm: 4.0, uncontrolledDmNoVisit30days: 4.0, preDmPatients: 78.0, preDmToNormal: 27.0, preDmPatientsNoVisit90days: 43.0, screenedByPhc: 444.0, targetByPhc: 676.0, latitude: 17.75457056, longitude: 43.96086896 },
            { zone_en: 'KGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', organization_en: 'taslal health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ™ÿµŸÑÿßŸÑ', dmPatients: 50.0, controlledDm: 27.0, uncontrolledDm: 23.0, uncontrolledDmNoVisit30days: 20.0, preDmPatients: 596.0, preDmToNormal: 167.0, preDmPatientsNoVisit90days: 401.0, screenedByPhc: 1443.0, targetByPhc: 1784.0, latitude: 17.63142516, longitude: 44.4718774 },
            { zone_en: 'KGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', organization_en: 'mishaliya', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ¥ÿπŸÑŸäÿ©', dmPatients: 71.0, controlledDm: 56.0, uncontrolledDm: 15.0, uncontrolledDmNoVisit30days: 13.0, preDmPatients: 532.0, preDmToNormal: 86.0, preDmPatientsNoVisit90days: 357.0, screenedByPhc: 1250.0, targetByPhc: 4912.0, latitude: 17.7596349, longitude: 44.46164075 },
            { zone_en: 'KGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', organization_en: 'junoob matar', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ¨ŸÜŸàÿ® ÿßŸÑŸÖÿ∑ÿßÿ±', dmPatients: 35.0, controlledDm: 20.0, uncontrolledDm: 15.0, uncontrolledDmNoVisit30days: 13.0, preDmPatients: 371.0, preDmToNormal: 86.0, preDmPatientsNoVisit90days: 266.0, screenedByPhc: 996.0, targetByPhc: 1167.0, latitude: 17.5939663, longitude: 44.44931437 },
            { zone_en: 'KGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', organization_en: 'Primary Health Care Center GOILLA', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ©ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿ∫ŸàŸäŸÑÿ©', dmPatients: 0.0, controlledDm: 0.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 186.0, preDmToNormal: 72.0, preDmPatientsNoVisit90days: 72.0, screenedByPhc: 388.0, targetByPhc: 3071.0, latitude: 17.60163679, longitude: 44.52500373 },
            { zone_en: 'KGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', organization_en: 'AL-SHARAA', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿÆÿ±ÿπÿßÿ°', dmPatients: 16.0, controlledDm: 13.0, uncontrolledDm: 3.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 338.0, preDmToNormal: 71.0, preDmPatientsNoVisit90days: 282.0, screenedByPhc: 766.0, targetByPhc: 1219.0, latitude: 17.53103729, longitude: 44.56510464 },
            { zone_en: 'KGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', organization_en: 'KHUBASH Health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿÆÿ®ÿßÿ¥', dmPatients: 32.0, controlledDm: 18.0, uncontrolledDm: 14.0, uncontrolledDmNoVisit30days: 9.0, preDmPatients: 165.0, preDmToNormal: 44.0, preDmPatientsNoVisit90days: 89.0, screenedByPhc: 465.0, targetByPhc: 1778.0, latitude: 17.55435111, longitude: 44.70508114 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'Security Forces PHCC Sharoora', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßÿ≥ŸÉÿßŸÜ ŸÇŸàŸâ ÿßŸÑÿßŸÖŸÜ ÿ®ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 0.0, controlledDm: 0.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 3.0, preDmToNormal: 0.0, preDmPatientsNoVisit90days: 3.0, screenedByPhc: 27.0, targetByPhc: 372.0, latitude: 17.4802438, longitude: 47.13076738 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'RAWDAH phcc Sharoora', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ±Ÿàÿ∂ÿ© ÿßŸÑÿ¥ŸÖÿßŸÑŸäÿ© ÿ®ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 74.0, controlledDm: 49.0, uncontrolledDm: 25.0, uncontrolledDmNoVisit30days: 19.0, preDmPatients: 427.0, preDmToNormal: 51.0, preDmPatientsNoVisit90days: 251.0, screenedByPhc: 1711.0, targetByPhc: 3264.0, latitude: 17.51024315, longitude: 47.10210837 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'Aziziyah PHCC Sharoora', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿπÿ≤Ÿäÿ≤Ÿäÿ© ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 96.0, controlledDm: 56.0, uncontrolledDm: 40.0, uncontrolledDmNoVisit30days: 36.0, preDmPatients: 406.0, preDmToNormal: 53.0, preDmPatientsNoVisit90days: 224.0, screenedByPhc: 2275.0, targetByPhc: 5056.0, latitude: 17.49644463, longitude: 47.11248781 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'alwadia phcc sharoora', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑŸàÿØŸäÿπÿ© ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 13.0, controlledDm: 9.0, uncontrolledDm: 4.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 218.0, preDmToNormal: 59.0, preDmPatientsNoVisit90days: 139.0, screenedByPhc: 966.0, targetByPhc: 1826.0, latitude: 17.05604376, longitude: 47.09488983 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'Sultanaa PHCC Sharoora', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ≥ŸÑÿ∑ÿßŸÜŸá ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 98.0, controlledDm: 66.0, uncontrolledDm: 32.0, uncontrolledDmNoVisit30days: 25.0, preDmPatients: 485.0, preDmToNormal: 71.0, preDmPatientsNoVisit90days: 206.0, screenedByPhc: 3080.0, targetByPhc: 4178.0, latitude: 17.48100418, longitude: 47.11810708 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'Tamani phcc Sharoura', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ™ŸÖÿßŸÜŸä ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 0, controlledDm: 0, uncontrolledDm: 0, uncontrolledDmNoVisit30days: 0, preDmPatients: 0, preDmToNormal: 0, preDmPatientsNoVisit90days: 0, screenedByPhc: 0, targetByPhc: 0, latitude: 17.7237, longitude: 46.1389411 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'Alakashim Health Center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿßÿÆÿßÿ¥ŸäŸÖ', dmPatients: 8.0, controlledDm: 5.0, uncontrolledDm: 3.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 70.0, preDmToNormal: 12.0, preDmPatientsNoVisit90days: 20.0, screenedByPhc: 248.0, targetByPhc: 249.0, latitude: 17.7212795, longitude: 47.2143375 },
            { zone_en: 'SGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'khaldiya sharoorah health center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿÆÿßŸÑÿØŸäÿ© ÿ®ÿ¥ÿ±Ÿàÿ±ÿ©', dmPatients: 0.0, controlledDm: 0.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 126.0, preDmToNormal: 35.0, preDmPatientsNoVisit90days: 57.0, screenedByPhc: 319.0, targetByPhc: 1888.0, latitude: 17.49589037, longitude: 47.12088168 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'albalad', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿ®ŸÑÿØ', dmPatients: 19.0, controlledDm: 10.0, uncontrolledDm: 9.0, uncontrolledDmNoVisit30days: 7.0, preDmPatients: 148.0, preDmToNormal: 25.0, preDmPatientsNoVisit90days: 78.0, screenedByPhc: 511.0, targetByPhc: 1398.0, latitude: 17.49420914, longitude: 44.13150175 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Health center in aljurbah', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ¨ÿ±ÿ®ÿ©', dmPatients: 24.0, controlledDm: 19.0, uncontrolledDm: 5.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 215.0, preDmToNormal: 57.0, preDmPatientsNoVisit90days: 125.0, screenedByPhc: 702.0, targetByPhc: 1414.0, latitude: 17.47110123, longitude: 44.15016604 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'PHCC Abasoud', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ£ÿ®ÿß ÿßŸÑÿ≥ÿπŸàÿØ', dmPatients: 63.0, controlledDm: 49.0, uncontrolledDm: 14.0, uncontrolledDmNoVisit30days: 11.0, preDmPatients: 408.0, preDmToNormal: 99.0, preDmPatientsNoVisit90days: 218.0, screenedByPhc: 1010.0, targetByPhc: 3217.0, latitude: 17.48452285, longitude: 44.12842703 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'health center al mufja', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäŸá ÿßŸÑÿµÿ≠ŸäŸá ÿßŸÑÿßŸàŸÑŸäŸá ÿ®ÿßŸÑŸÖŸàŸÅÿ¨ÿ©', dmPatients: 9.0, controlledDm: 9.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 137.0, preDmToNormal: 29.0, preDmPatientsNoVisit90days: 99.0, screenedByPhc: 436.0, targetByPhc: 498.0, latitude: 17.43864766, longitude: 44.05285434 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Alhadan PHCC', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ≠ÿ∂ŸÜ', dmPatients: 81.0, controlledDm: 59.0, uncontrolledDm: 22.0, uncontrolledDmNoVisit30days: 22.0, preDmPatients: 642.0, preDmToNormal: 167.0, preDmPatientsNoVisit90days: 405.0, screenedByPhc: 2082.0, targetByPhc: 5907.0, latitude: 17.45825564, longitude: 44.12599991 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Al Safa Health Center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿµŸÅÿß', dmPatients: 14.0, controlledDm: 3.0, uncontrolledDm: 11.0, uncontrolledDmNoVisit30days: 9.0, preDmPatients: 127.0, preDmToNormal: 27.0, preDmPatientsNoVisit90days: 63.0, screenedByPhc: 378.0, targetByPhc: 1030.0, latitude: 17.4633955, longitude: 44.07759645 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Health Center algabil', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿßÿ®ŸÑ', dmPatients: 114.0, controlledDm: 72.0, uncontrolledDm: 42.0, uncontrolledDmNoVisit30days: 26.0, preDmPatients: 930.0, preDmToNormal: 214.0, preDmPatientsNoVisit90days: 544.0, screenedByPhc: 2576.0, targetByPhc: 5209.0, latitude: 17.48997978, longitude: 44.19169454 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Al muratah phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÖÿ±ÿßÿ∑Ÿá', dmPatients: 15.0, controlledDm: 15.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 102.0, preDmToNormal: 17.0, preDmPatientsNoVisit90days: 42.0, screenedByPhc: 323.0, targetByPhc: 823.0, latitude: 17.48982264, longitude: 44.10260304 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'dahada helth center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿØÿ≠ÿ∂Ÿá', dmPatients: 80.0, controlledDm: 56.0, uncontrolledDm: 24.0, uncontrolledDmNoVisit30days: 16.0, preDmPatients: 645.0, preDmToNormal: 142.0, preDmPatientsNoVisit90days: 371.0, screenedByPhc: 2484.0, targetByPhc: 5125.0, latitude: 17.51695355, longitude: 44.16039583 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'eam phcc reer', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ¥ÿπÿ® ÿ±Ÿäÿ±', dmPatients: 18.0, controlledDm: 13.0, uncontrolledDm: 5.0, uncontrolledDmNoVisit30days: 4.0, preDmPatients: 167.0, preDmToNormal: 42.0, preDmPatientsNoVisit90days: 102.0, screenedByPhc: 572.0, targetByPhc: 1812.0, latitude: 17.46419144, longitude: 44.16237482 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Shebhan phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿ¥ÿ®ŸáÿßŸÜ', dmPatients: 12.0, controlledDm: 11.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 160.0, preDmToNormal: 34.0, preDmPatientsNoVisit90days: 106.0, screenedByPhc: 430.0, targetByPhc: 829.0, latitude: 17.48417091, longitude: 44.12151161 },
            { zone_en: 'WNH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', organization_en: 'Primary Health Care Center in Nhogah', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ŸÜŸáŸàŸÇÿ©', dmPatients: 31.0, controlledDm: 23.0, uncontrolledDm: 8.0, uncontrolledDmNoVisit30days: 4.0, preDmPatients: 175.0, preDmToNormal: 46.0, preDmPatientsNoVisit90days: 118.0, screenedByPhc: 424.0, targetByPhc: 913.0, latitude: 17.44634448, longitude: 44.10357423 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'primary health care center of shurfa', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ŸÄ ÿßŸÑÿ¥ÿ±ŸÅÿ©', dmPatients: 148.0, controlledDm: 111.0, uncontrolledDm: 37.0, uncontrolledDmNoVisit30days: 35.0, preDmPatients: 696.0, preDmToNormal: 100.0, preDmPatientsNoVisit90days: 462.0, screenedByPhc: 2657.0, targetByPhc: 5001.0, latitude: 17.51436563, longitude: 44.29527963 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'Alhamar phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑÿ≠ŸÖÿ±', dmPatients: 26.0, controlledDm: 17.0, uncontrolledDm: 9.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 302.0, preDmToNormal: 85.0, preDmPatientsNoVisit90days: 225.0, screenedByPhc: 795.0, targetByPhc: 1154.0, latitude: 17.46992373, longitude: 44.18192437 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'primary health care center barrk', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿ®ÿ±ŸÉ', dmPatients: 37.0, controlledDm: 30.0, uncontrolledDm: 7.0, uncontrolledDmNoVisit30days: 6.0, preDmPatients: 236.0, preDmToNormal: 39.0, preDmPatientsNoVisit90days: 149.0, screenedByPhc: 799.0, targetByPhc: 1549.0, latitude: 17.5619045, longitude: 44.33461938 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'HUSSAINIAH PHCC', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿ≠ÿµŸäŸÜŸäÿ©', dmPatients: 61.0, controlledDm: 39.0, uncontrolledDm: 22.0, uncontrolledDmNoVisit30days: 19.0, preDmPatients: 376.0, preDmToNormal: 50.0, preDmPatientsNoVisit90days: 299.0, screenedByPhc: 1003.0, targetByPhc: 1345.0, latitude: 17.81193406, longitude: 44.44693271 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'Al Arisa Health Center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑÿπÿ±Ÿäÿ≥ÿ©', dmPatients: 118.0, controlledDm: 90.0, uncontrolledDm: 28.0, uncontrolledDmNoVisit30days: 25.0, preDmPatients: 940.0, preDmToNormal: 192.0, preDmPatientsNoVisit90days: 621.0, screenedByPhc: 2294.0, targetByPhc: 5531.0, latitude: 17.56253263, longitude: 44.30852923 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'RIJLA PHcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ±ÿ¨ŸÑÿßÿ°', dmPatients: 32.0, controlledDm: 18.0, uncontrolledDm: 14.0, uncontrolledDmNoVisit30days: 14.0, preDmPatients: 207.0, preDmToNormal: 36.0, preDmPatientsNoVisit90days: 127.0, screenedByPhc: 1572.0, targetByPhc: 952.0, latitude: 17.4974044, longitude: 44.21335344 },
            { zone_en: 'NNGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', organization_en: 'Wadi Riman Health Center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ŸàÿßÿØŸä ÿ±ŸäŸÖÿßŸÜ', dmPatients: 95.0, controlledDm: 54.0, uncontrolledDm: 41.0, uncontrolledDmNoVisit30days: 34.0, preDmPatients: 387.0, preDmToNormal: 39.0, preDmPatientsNoVisit90days: 253.0, screenedByPhc: 1158.0, targetByPhc: 3306.0, latitude: 17.5455171, longitude: 44.38632901 },
            { zone_en: 'YGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'wadi wasat', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ŸàÿßÿØŸä Ÿàÿ≥ÿ∑', dmPatients: 4.0, controlledDm: 4.0, uncontrolledDm: 0.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 19.0, preDmToNormal: 1.0, preDmPatientsNoVisit90days: 0.0, screenedByPhc: 146.0, targetByPhc: 246.0, latitude: 18.29824487, longitude: 44.20244981 },
            { zone_en: 'YGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'yadama primary health care center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ŸäÿØŸÖÿ©', dmPatients: 90.0, controlledDm: 62.0, uncontrolledDm: 28.0, uncontrolledDmNoVisit30days: 24.0, preDmPatients: 265.0, preDmToNormal: 31.0, preDmPatientsNoVisit90days: 171.0, screenedByPhc: 694.0, targetByPhc: 1897.0, latitude: 18.53280931, longitude: 44.20531118 },
            { zone_en: 'YGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'legam primary health care center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÑÿ¨ÿßŸÖ', dmPatients: 13.0, controlledDm: 11.0, uncontrolledDm: 2.0, uncontrolledDmNoVisit30days: 3.0, preDmPatients: 57.0, preDmToNormal: 7.0, preDmPatientsNoVisit90days: 23.0, screenedByPhc: 144.0, targetByPhc: 544.0, latitude: 18.59928839, longitude: 44.18008645 },
            { zone_en: 'HGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', organization_en: 'tilah phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ™ŸÑÿßÿπ', dmPatients: 1.0, controlledDm: 0.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 56.0, preDmToNormal: 3.0, preDmPatientsNoVisit90days: 35.0, screenedByPhc: 139.0, targetByPhc: 115.0, latitude: 18.0529148, longitude: 43.98022 },
            { zone_en: 'YGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'sultana primaryhealth care center', organization_ar: 'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ≥ŸÑÿ∑ÿßŸÜÿ©', dmPatients: 5.0, controlledDm: 2.0, uncontrolledDm: 3.0, uncontrolledDmNoVisit30days: 2.0, preDmPatients: 13.0, preDmToNormal: 1.0, preDmPatientsNoVisit90days: 5.0, screenedByPhc: 38.0, targetByPhc: 405.0, latitude: 18.85983969, longitude: 45.11052394 },
            { zone_en: 'YGH', zone: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', organization_en: 'mohammadia phcc', organization_ar: 'ŸÖÿ±ŸÉÿ≤ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ≠ŸÖÿØŸäÿ©', dmPatients: 6.0, controlledDm: 5.0, uncontrolledDm: 1.0, uncontrolledDmNoVisit30days: 0.0, preDmPatients: 17.0, preDmToNormal: 0.0, preDmPatientsNoVisit90days: 4.0, screenedByPhc: 82.0, targetByPhc: 287.0, latitude: 18.4440713, longitude: 44.79583144 }
        ];

        const zoneColors = {
            sgh: '#4A90E2',      // Medium Blue
            kgh: '#5BA3F5',       // Light Blue
            nngh: '#357ABD',      // Darker Blue
            wnh: '#6BB6FF',       // Very Light Blue
            mch: '#2E5C8A',       // Deep Blue
            kkh: '#7FC8F8',       // Pale Blue
            tgh: '#1E6BA8',       // Navy Blue
            bgh: '#8CC8FF',       // Sky Blue
            ygh: '#2563A5',       // Royal Blue
            hgh: '#4A9EFF'        // Bright Blue
        };

        const zoneInfo = {
            sgh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', fullName: 'SGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ¥ÿ±Ÿàÿ±ÿ© ÿßŸÑÿπÿßŸÖ', phcCount: 8 },
            kgh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', fullName: 'KGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿÆÿ®ÿßÿ¥ ÿßŸÑÿπÿßŸÖ', phcCount: 6 },
            nngh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ', fullName: 'NNGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ ÿßŸÑÿ¨ÿØŸäÿØ - ÿßŸÑÿ¥ÿ±ŸÅÿ©', phcCount: 7 },
            wnh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', fullName: 'WNH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿπÿßŸÖ - ÿßŸÑÿ®ŸÑÿØ', phcCount: 12 },
            mch: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸàŸÑÿßÿØÿ© ŸàÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ', fullName: 'MCH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸàŸÑÿßÿØÿ© ŸàÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ', phcCount: 2 },
            kkh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', fullName: 'KKH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ÿÆÿßŸÑÿØ', phcCount: 9 },
            tgh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', fullName: 'TGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ´ÿßÿ± ÿßŸÑÿπÿßŸÖ', phcCount: 7 },
            bgh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', fullName: 'BGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ®ÿØÿ± ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿπÿßŸÖ', phcCount: 6 },
            ygh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', fullName: 'YGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ŸäÿØŸÖÿ© ÿßŸÑÿπÿßŸÖ', phcCount: 5 },
            hgh: { name: 'ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', fullName: 'HGH - ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≠ÿ®ŸàŸÜÿß ÿßŸÑÿπÿßŸÖ', phcCount: 6 }
        };

        const showZoneInfo = (zoneId) => {
            const info = zoneInfo[zoneId];
            if (!info) return;

            const panel = document.getElementById('infoPanel');
            const zoneNameEl = document.getElementById('zoneName');
            const zoneInfoEl = document.getElementById('zoneInfo');

            zoneNameEl.textContent = info.fullName;

            const phcs = healthcareCenters.filter(c => c.zone === zoneId);
            
            const hexToRgba = (hex, alpha) => {
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${alpha})`;
            };

            let html = `
                <div class="stat-card" style="background: ${hexToRgba(zoneColors[zoneId], 0.08)}; border-right: 3px solid ${zoneColors[zoneId]}">
                    <h3>ÿπÿØÿØ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ©</h3>
                    <div class="value" style="color: ${zoneColors[zoneId]}">${phcs.length}</div>
                </div>
                <div class="phc-list">
                    <h3>ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ©</h3>
            `;

            phcs.forEach((phc, index) => {
                html += `
                    <div class="phc-item" style="border-right: 2px solid ${hexToRgba(zoneColors[zoneId], 0.3)}">
                        ${index + 1}. ${phc.name}
                    </div>
                `;
            });

            html += `</div>`;
            zoneInfoEl.innerHTML = html;
            panel.classList.add('active');
            
            const backArrow = document.getElementById('backArrow');
            if (backArrow) {
                backArrow.classList.remove('hidden');
            }
            
            const mainContainer = document.querySelector('.main-container');
            if (window.innerWidth > 768) {
                mainContainer.classList.add('sidebar-active');
            }
        };

        const showOverview = () => {
            const panel = document.getElementById('infoPanel');
            const zoneNameEl = document.getElementById('zoneName');
            const zoneInfoEl = document.getElementById('zoneInfo');
            const backArrow = document.getElementById('backArrow');

            zoneNameEl.textContent = 'ŸÜÿ∏ÿ±ÿ© ÿπÿßŸÖÿ© - ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸÜÿßÿ∑ŸÇ';
            
            if (backArrow) {
                backArrow.classList.add('hidden');
            }

            activePolygon = null;
            currentZoneIndex = -1;
            resetAllZones();
            
            Object.keys(zoneMarkers).forEach(key => {
                zoneMarkers[key].forEach(marker => {
                    marker.setOpacity(0);
                });
            });
            
            if (currentZoneLabel) {
                currentZoneLabel.unbindTooltip();
                currentZoneLabel = null;
            }
            const hexToRgba = (hex, alpha) => {
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${alpha})`;
            };

            let html = '<div class="phc-list"><h3>ÿßŸÑŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑÿµÿ≠Ÿäÿ©</h3>';
            
            zoneOrder.forEach(zoneId => {
                const info = zoneInfo[zoneId];
                if (!info) return;
                
                const phcs = healthcareCenters.filter(c => c.zone === zoneId);
                
                html += `
                    <div class="stat-card" style="background: ${hexToRgba(zoneColors[zoneId], 0.08)}; border-right: 3px solid ${zoneColors[zoneId]}; margin-bottom: 12px; cursor: pointer;" onclick="selectZoneFromOverview('${zoneId}')">
                        <h3 style="color: ${zoneColors[zoneId]}; font-weight: 600; margin-bottom: 8px;">${info.fullName}</h3>
                        <div style="font-size: 13px; color: #86868b;">
                            ÿπÿØÿØ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ©: <span style="color: ${zoneColors[zoneId]}; font-weight: 600;">${phcs.length}</span>
                        </div>
                    </div>
                `;
            });

            html += '</div>';
            zoneInfoEl.innerHTML = html;
            panel.classList.add('active');
            
            const mainContainer = document.querySelector('.main-container');
            if (window.innerWidth <= 768) {
                mainContainer.classList.remove('sidebar-active');
            } else {
                mainContainer.classList.add('sidebar-active');
            }
        };

        const selectZoneFromOverview = (zoneId) => {
            const polygon = zonePolygons[zoneId];
            const zoneName = zoneNames[zoneOrder.indexOf(zoneId)];
            
            if (polygon) {
                activePolygon = polygon;
                showZoneMarkers(zoneId);
                showZoneLabel(polygon, zoneName);
                dimAllZonesExcept(polygon);
                wrappedShowZoneInfo(zoneId);
            }
        };

        window.showOverview = showOverview;
        window.selectZoneFromOverview = selectZoneFromOverview;

        const closeInfoPanel = () => {
        };

        window.closeInfoPanel = closeInfoPanel;

        const createMinimalIcon = (color, animated = false) => {
            let animationClass = '';
            let boxShadow = '';
            
            if (animated) {
                if (color === '#ef4444' || color === '#f59e0b') {
                    // Red or Yellow - warning animation
                    animationClass = 'marker-warning';
                } else if (color === '#10b981') {
                    // Green - glow animation
                    animationClass = 'marker-glow';
                    boxShadow = '0 0 4px rgba(16, 185, 129, 0.8), 0 0 8px rgba(16, 185, 129, 0.4)';
                }
            }
            
            return L.divIcon({
                className: 'minimal-marker',
                html: `<div class="${animationClass}" style="width: 8px; height: 8px; background-color: ${color}; border-radius: 50%; box-shadow: ${boxShadow};"></div>`,
                iconSize: [8, 8],
                iconAnchor: [4, 4]
            });
        };

        const zoneMarkers = {
            sgh: [],
            kgh: [],
            nngh: [],
            wnh: [],
            mch: [],
            kkh: [],
            tgh: [],
            bgh: [],
            ygh: [],
            hgh: []
        };

        healthcareCenters.forEach(center => {
            const iconColor = zoneColors[center.zone] || '#2c3e50';
            const marker = L.marker([center.lat, center.lng], { 
                icon: createMinimalIcon(iconColor),
                interactive: true
            });
            marker.addTo(map);
            marker.setOpacity(0);
            
            marker.on('click', function(e) {
                e.originalEvent.stopPropagation();
                const zonePolygon = zonePolygons[center.zone];
                if (zonePolygon) {
                    zonePolygon.fire('click');
                }
            });
            
            if (zoneMarkers[center.zone]) {
                zoneMarkers[center.zone].push(marker);
            }
        });

        const showZoneMarkers = (zone) => {
            Object.keys(zoneMarkers).forEach(key => {
                zoneMarkers[key].forEach(marker => {
                    marker.setOpacity(key === zone ? 1 : 0);
                });
            });
        };

        const addHoverEffect = (polygon, index) => {
            polygon.on('mouseover', function() {
                if (this !== activePolygon) {
                    this.setStyle({
                        fillOpacity: 0.2,
                        weight: 1,
                        color: originalColors[index],
                        fillColor: originalColors[index]
                    });
                } else {
                    this.setStyle({
                        fillOpacity: 0.5,
                        weight: 2,
                        color: originalColors[index]
                    });
                }
            });
            polygon.on('mouseout', function() {
                if (this !== activePolygon) {
                    this.setStyle({
                        fillOpacity: 0.15,
                        weight: 0,
                        fillColor: originalColors[index]
                    });
                } else {
                    this.setStyle({
                        fillOpacity: 0.5,
                        weight: 2,
                        color: originalColors[index],
                        fillColor: originalColors[index]
                    });
                }
            });
        };

        sghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('sgh');
            showZoneLabel(this, 'SGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('sgh');
        });
        kghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('kgh');
            showZoneLabel(this, 'KGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('kgh');
        });
        nnghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('nngh');
            showZoneLabel(this, 'NNGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('nngh');
        });
        wnhPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('wnh');
            showZoneLabel(this, 'WNH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('wnh');
        });
        mchPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('mch');
            showZoneLabel(this, 'MCH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('mch');
        });
        kkhPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('kkh');
            showZoneLabel(this, 'KKH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('kkh');
        });
        tghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('tgh');
            showZoneLabel(this, 'TGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('tgh');
        });
        bghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('bgh');
            showZoneLabel(this, 'BGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('bgh');
        });
        yghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('ygh');
            showZoneLabel(this, 'YGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('ygh');
        });
        hghPolygon.on('click', function() {
            activePolygon = this;
            showZoneMarkers('hgh');
            showZoneLabel(this, 'HGH');
            dimAllZonesExcept(this);
            wrappedShowZoneInfo('hgh');
        });

        addHoverEffect(sghPolygon, 0);
        addHoverEffect(kghPolygon, 1);
        addHoverEffect(nnghPolygon, 2);
        addHoverEffect(wnhPolygon, 3);
        addHoverEffect(mchPolygon, 4);
        addHoverEffect(kkhPolygon, 5);
        addHoverEffect(tghPolygon, 6);
        addHoverEffect(bghPolygon, 7);
        addHoverEffect(yghPolygon, 8);
        addHoverEffect(hghPolygon, 9);

        const zoneOrder = ['bgh', 'hgh', 'kkh', 'wnh', 'mch', 'nngh', 'kgh', 'sgh', 'ygh', 'tgh'];
        const zoneNames = ['BGH', 'HGH', 'KKH', 'WNH', 'MCH', 'NNGH', 'KGH', 'SGH', 'YGH', 'TGH'];
        
        let currentZoneIndex = -1;
        
        const selectZoneByIndex = (index) => {
            if (index < 0 || index >= zoneOrder.length) return;
            
            const zoneId = zoneOrder[index];
            const polygon = zonePolygons[zoneId];
            const zoneName = zoneNames[index];
            
            if (polygon) {
                activePolygon = polygon;
                showZoneMarkers(zoneId);
                showZoneLabel(polygon, zoneName);
                dimAllZonesExcept(polygon);
                showZoneInfo(zoneId);
                currentZoneIndex = index;
                updateNavButtons();
            }
        };
        
        const navigateZones = (direction) => {
            if (currentZoneIndex === -1) {
                currentZoneIndex = 0;
            } else {
                currentZoneIndex += direction;
                if (currentZoneIndex < 0) {
                    currentZoneIndex = zoneOrder.length - 1;
                } else if (currentZoneIndex >= zoneOrder.length) {
                    currentZoneIndex = 0;
                }
            }
            selectZoneByIndex(currentZoneIndex);
        };
        
        const updateNavButtons = () => {
            const prevBtn = document.getElementById('prevZone');
            const nextBtn = document.getElementById('nextZone');
            if (prevBtn) prevBtn.disabled = false;
            if (nextBtn) nextBtn.disabled = false;
        };
        
        const originalShowZoneInfo = showZoneInfo;
        const wrappedShowZoneInfo = (zoneId) => {
            originalShowZoneInfo(zoneId);
            const index = zoneOrder.indexOf(zoneId);
            if (index !== -1) {
                currentZoneIndex = index;
                updateNavButtons();
            }
        };
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                e.preventDefault();
                navigateZones(e.key === 'ArrowLeft' ? -1 : 1);
            }
        });
        
        window.navigateZones = navigateZones;

        const initMobileView = () => {
            if (window.innerWidth <= 768) {
                const panel = document.getElementById('infoPanel');
                const mainContainer = document.querySelector('.main-container');
                panel.classList.add('active');
                mainContainer.classList.remove('sidebar-active');
                showOverview();
                return true;
            }
            return false;
        };

        let currentSlideIndex = 0;
        let isPresentationMode = true;

        const createOverviewSlide = (index) => {
            const hexToRgba = (hex, alpha) => {
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${alpha})`;
            };

            const totalPhcs = healthcareCenters.length;
            const totalSlides = zoneOrder.length + 1;
            const totalTarget = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const target = typeof org.targetByPhc === 'number' ? org.targetByPhc : parseFloat(org.targetByPhc) || 0;
                return sum + target;
            }, 0);
            const totalScreened = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const screened = typeof org.screenedByPhc === 'number' ? org.screenedByPhc : parseFloat(org.screenedByPhc) || 0;
                return sum + screened;
            }, 0);
            const screenedPercentage = totalTarget > 0 ? ((totalScreened / totalTarget) * 100).toFixed(1) : 0;
            const screenedPercentageNum = parseFloat(screenedPercentage) || 0;
            const screenedCardColor = screenedPercentageNum < 50 ? '#ef4444' : screenedPercentageNum < 70 ? '#f59e0b' : '#10b981';
            const totalDm = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const dm = typeof org.dmPatients === 'number' ? org.dmPatients : parseFloat(org.dmPatients) || 0;
                return sum + dm;
            }, 0);
            const totalControlledDm = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const controlled = typeof org.controlledDm === 'number' ? org.controlledDm : parseFloat(org.controlledDm) || 0;
                return sum + controlled;
            }, 0);
            const totalUncontrolledDm = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const uncontrolled = typeof org.uncontrolledDm === 'number' ? org.uncontrolledDm : parseFloat(org.uncontrolledDm) || 0;
                return sum + uncontrolled;
            }, 0);
            const controlledDmPercentage = totalDm > 0 ? ((totalControlledDm / totalDm) * 100).toFixed(1) : 0;
            const uncontrolledDmPercentage = totalDm > 0 ? ((totalUncontrolledDm / totalDm) * 100).toFixed(1) : 0;
            const controlledDmPercentageNum = parseFloat(controlledDmPercentage) || 0;
            const dmCardColor = controlledDmPercentageNum >= 90 ? '#10b981' : '#ef4444';
            const totalPreDm = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const preDm = typeof org.preDmPatients === 'number' ? org.preDmPatients : parseFloat(org.preDmPatients) || 0;
                return sum + preDm;
            }, 0);
            const totalPreDmToNormal = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const toNormal = typeof org.preDmToNormal === 'number' ? org.preDmToNormal : parseFloat(org.preDmToNormal) || 0;
                return sum + toNormal;
            }, 0);
            const totalPreDmNoVisit90days = organizationsDmPredmScreeningData.reduce((sum, org) => {
                const noVisit = typeof org.preDmPatientsNoVisit90days === 'number' ? org.preDmPatientsNoVisit90days : parseFloat(org.preDmPatientsNoVisit90days) || 0;
                return sum + noVisit;
            }, 0);
            const preDmToNormalPercentage = totalPreDm > 0 ? ((totalPreDmToNormal / totalPreDm) * 100).toFixed(1) : 0;
            const preDmNoVisit90daysPercentage = totalPreDm > 0 ? ((totalPreDmNoVisit90days / totalPreDm) * 100).toFixed(1) : 0;
            const preDmToNormalPercentageNum = parseFloat(preDmToNormalPercentage) || 0;
            const preDmCardColor = preDmToNormalPercentageNum < 20 ? '#ef4444' : preDmToNormalPercentageNum < 30 ? '#f59e0b' : '#10b981';

            // PHCs closed for maintenance - exclude from list
            const closedPhcs = [
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠ÿ®ŸàŸÜÿß',
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ™ŸÖÿßŸÜŸä ÿ¥ÿ±Ÿàÿ±ÿ©',
                'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿ±ŸÜ',
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ©ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿ∫ŸàŸäŸÑÿ©'
            ];

            // Calculate worst 7 PHCs across all hospitals for screening < 70%
            const allPhcsBelow70 = organizationsDmPredmScreeningData.map(org => {
                const screened = typeof org.screenedByPhc === 'number' ? org.screenedByPhc : parseFloat(org.screenedByPhc) || 0;
                const target = typeof org.targetByPhc === 'number' ? org.targetByPhc : parseFloat(org.targetByPhc) || 0;
                const percentage = target > 0 ? ((screened / target) * 100) : 0;
                return {
                    name: org.organization_ar || org.organization_en,
                    screened: screened,
                    target: target,
                    percentage: percentage
                };
            })
            .filter(phc => phc.percentage < 70 && !closedPhcs.includes(phc.name))
            .sort((a, b) => a.percentage - b.percentage)
            .slice(0, 10);

            // Calculate worst 7 PHCs across all hospitals for controlled < 90%
            const allPhcsControlledBelow90 = organizationsDmPredmScreeningData.map(org => {
                const dmPatients = typeof org.dmPatients === 'number' ? org.dmPatients : parseFloat(org.dmPatients) || 0;
                const controlledDm = typeof org.controlledDm === 'number' ? org.controlledDm : parseFloat(org.controlledDm) || 0;
                const percentage = dmPatients > 0 ? ((controlledDm / dmPatients) * 100) : 0;
                return {
                    name: org.organization_ar || org.organization_en,
                    controlled: controlledDm,
                    total: dmPatients,
                    percentage: percentage
                };
            })
            .filter(phc => phc.total > 0 && phc.percentage < 90 && !closedPhcs.includes(phc.name))
            .sort((a, b) => a.percentage - b.percentage)
            .slice(0, 10);

            // Calculate worst 7 PHCs across all hospitals for returned to normal < 30%
            const allPhcsReturnedToNormalBelow30 = organizationsDmPredmScreeningData.map(org => {
                const preDmPatients = typeof org.preDmPatients === 'number' ? org.preDmPatients : parseFloat(org.preDmPatients) || 0;
                const preDmToNormal = typeof org.preDmToNormal === 'number' ? org.preDmToNormal : parseFloat(org.preDmToNormal) || 0;
                const percentage = preDmPatients > 0 ? ((preDmToNormal / preDmPatients) * 100) : 0;
                return {
                    name: org.organization_ar || org.organization_en,
                    returnedToNormal: preDmToNormal,
                    total: preDmPatients,
                    percentage: percentage
                };
            })
            .filter(phc => phc.total > 0 && phc.percentage < 30 && !closedPhcs.includes(phc.name))
            .sort((a, b) => a.percentage - b.percentage)
            .slice(0, 10);

            const overviewScreeningListHtml = allPhcsBelow70.length > 0 
                ? allPhcsBelow70.map((phc, idx) => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: clamp(8px, 1.2vh, 12px); border-bottom: 1px solid #e5e5e7; direction: rtl;">
                        <div style="flex: 1; text-align: right;">
                            <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin-bottom: 2px;">${phc.name}</div>
                            <div style="font-size: clamp(9px, 1.2vh, 12px); color: #86868b;">${Math.round(phc.screened).toLocaleString('en-US')} / ${Math.round(phc.target).toLocaleString('en-US')}</div>
                        </div>
                        <div style="margin-left: clamp(8px, 1.2vw, 12px); text-align: left; flex-shrink: 0;">
                            <div style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 700; color: ${phc.percentage < 50 ? '#ef4444' : '#f59e0b'};">${phc.percentage.toFixed(1)}%</div>
                            <div style="font-size: clamp(8px, 1vh, 10px); color: #86868b;">#${idx + 1}</div>
                        </div>
                    </div>
                `).join('')
                : '<div style="padding: clamp(20px, 3vh, 30px); text-align: center; color: #10b981; font-size: clamp(12px, 1.6vh, 16px); display: flex; flex-direction: column; align-items: center; gap: clamp(8px, 1.2vh, 12px);"><div style="width: clamp(32px, 4vh, 48px); height: clamp(32px, 4vh, 48px); border-radius: 50%; background: #10b981; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071L3.29289 10.7071C2.90237 10.3166 2.90237 9.68342 3.29289 9.29289C3.68342 8.90237 4.31658 8.90237 4.70711 9.29289L8 12.5858L15.2929 5.29289C15.6834 4.90237 16.3166 4.90237 16.7071 5.29289Z" fill="white"/></svg></div><div style="font-weight: 600;">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿµŸÑÿ™ ÿ•ŸÑŸâ 70% ÿ£Ÿà ÿ£ŸÉÿ´ÿ±</div></div>';

            const overviewControlledListHtml = allPhcsControlledBelow90.length > 0
                ? allPhcsControlledBelow90.map((phc, idx) => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: clamp(8px, 1.2vh, 12px); border-bottom: 1px solid #e5e5e7; direction: rtl;">
                        <div style="flex: 1; text-align: right;">
                            <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin-bottom: 2px;">${phc.name}</div>
                            <div style="font-size: clamp(9px, 1.2vh, 12px); color: #86868b;">${Math.round(phc.controlled).toLocaleString('en-US')} / ${Math.round(phc.total).toLocaleString('en-US')}</div>
                        </div>
                        <div style="margin-left: clamp(8px, 1.2vw, 12px); text-align: left; flex-shrink: 0;">
                            <div style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 700; color: #ef4444;">${phc.percentage.toFixed(1)}%</div>
                            <div style="font-size: clamp(8px, 1vh, 10px); color: #86868b;">#${idx + 1}</div>
                        </div>
                    </div>
                `).join('')
                : '<div style="padding: clamp(20px, 3vh, 30px); text-align: center; color: #10b981; font-size: clamp(12px, 1.6vh, 16px); display: flex; flex-direction: column; align-items: center; gap: clamp(8px, 1.2vh, 12px);"><div style="width: clamp(32px, 4vh, 48px); height: clamp(32px, 4vh, 48px); border-radius: 50%; background: #10b981; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071L3.29289 10.7071C2.90237 10.3166 2.90237 9.68342 3.29289 9.29289C3.68342 8.90237 4.31658 8.90237 4.70711 9.29289L8 12.5858L15.2929 5.29289C15.6834 4.90237 16.3166 4.90237 16.7071 5.29289Z" fill="white"/></svg></div><div style="font-weight: 600;">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿµŸÑÿ™ ÿ•ŸÑŸâ 90% ÿ£Ÿà ÿ£ŸÉÿ´ÿ±</div></div>';

            const overviewReturnedToNormalListHtml = allPhcsReturnedToNormalBelow30.length > 0
                ? allPhcsReturnedToNormalBelow30.map((phc, idx) => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: clamp(8px, 1.2vh, 12px); border-bottom: 1px solid #e5e5e7; direction: rtl;">
                        <div style="flex: 1; text-align: right;">
                            <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin-bottom: 2px;">${phc.name}</div>
                            <div style="font-size: clamp(9px, 1.2vh, 12px); color: #86868b;">${Math.round(phc.returnedToNormal).toLocaleString('en-US')} / ${Math.round(phc.total).toLocaleString('en-US')}</div>
                        </div>
                        <div style="margin-left: clamp(8px, 1.2vw, 12px); text-align: left; flex-shrink: 0;">
                            <div style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 700; color: ${phc.percentage < 20 ? '#ef4444' : '#f59e0b'};">${phc.percentage.toFixed(1)}%</div>
                            <div style="font-size: clamp(8px, 1vh, 10px); color: #86868b;">#${idx + 1}</div>
                        </div>
                    </div>
                `).join('')
                : '<div style="padding: clamp(20px, 3vh, 30px); text-align: center; color: #10b981; font-size: clamp(12px, 1.6vh, 16px); display: flex; flex-direction: column; align-items: center; gap: clamp(8px, 1.2vh, 12px);"><div style="width: clamp(32px, 4vh, 48px); height: clamp(32px, 4vh, 48px); border-radius: 50%; background: #10b981; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071L3.29289 10.7071C2.90237 10.3166 2.90237 9.68342 3.29289 9.29289C3.68342 8.90237 4.31658 8.90237 4.70711 9.29289L8 12.5858L15.2929 5.29289C15.6834 4.90237 16.3166 4.90237 16.7071 5.29289Z" fill="white"/></svg></div><div style="font-weight: 600;">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿµŸÑÿ™ ÿ•ŸÑŸâ 30% ÿ£Ÿà ÿ£ŸÉÿ´ÿ±</div></div>';

            const slide = document.createElement('div');
            slide.className = 'presentation-slide';
            slide.id = 'slide-overview';
            if (index === 0) slide.classList.add('active');

            let overviewHtml = `
                <div class="slide-header">
                    <img src="light_mode_logo.png" alt="Najran Health Cluster" class="slide-logo">
                    <div class="slide-title-section">
                        <h1 class="slide-title">Najran Health Cluster</h1>
                        <p class="slide-subtitle">ÿ™ÿ¨ŸÖÿπ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿµÿ≠Ÿä</p>
                    </div>
                </div>
                <div class="slide-content">
                    <div class="slide-info-container">
                        <div class="infographic-section zone-name-desktop" style="display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: clamp(13px, 2vh, 19px); width: 100%; min-height: 100%; box-sizing: border-box; overflow: visible;">
                            <h2 style="font-size: clamp(19px, 3.2vh, 29px); font-weight: 800; color: #1d1d1f; margin: 0 0 5px 0; text-align: center; letter-spacing: -0.5px; flex-shrink: 0;">ÿ™ÿ¨ŸÖÿπ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿµÿ≠Ÿä - ŸÜÿ∏ÿ±ÿ© ÿπÿßŸÖÿ©</h2>
                            <p style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; margin: 0 0 clamp(13px, 2vh, 19px) 0; text-align: center; flex-shrink: 0;"></p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: clamp(10px, 1.6vh, 13px); width: 100%; flex: 1 1 auto; min-height: 0; box-sizing: border-box;">
                                <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 5px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${zoneOrder.length}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-top: 5px;">ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ</div>
                                </div>
                                <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 5px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${totalPhcs}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-top: 5px;">ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ£ŸàŸÑŸä</div>
                                </div>
                                <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 5px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(totalTarget).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-top: 5px;">ÿπÿØÿØ ÿßŸÑÿ≥ŸÉÿßŸÜ Ÿ£Ÿ• ÿ≥ŸÜŸá +</div>
                                </div>
                                <div style="border: 3px solid ${screenedCardColor}; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box; position: relative;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 3px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(totalScreened).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin: 3px 0; line-height: 1.2;">${screenedPercentage}%</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-top: 5px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <span>ÿ™ŸÖ ÿßŸÑŸÅÿ≠ÿµ</span>
                                        <span class="card-info-icon" style="position: relative;">
                                            !
                                            <div class="card-tooltip" style="text-align: right; direction: rtl;">
                                                <strong>ŸÖÿ§ÿ¥ÿ± ÿßŸÑŸÑŸàŸÜ:</strong><br>
                                                <span style="color: #ef4444;">‚óè</span> ÿ£ŸÇŸÑ ŸÖŸÜ 50%<br>
                                                <span style="color: #f59e0b;">‚óè</span> 50% - 69%<br>
                                                <span style="color: #10b981;">‚óè</span> 70% Ÿàÿ£ŸÉÿ´ÿ±
                                            </div>
                                        </span>
                                    </div>
                                </div>
                                <div style="border: 3px solid ${dmCardColor}; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box; position: relative;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 3px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(totalDm).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <span>ŸÖÿ±ÿ∂Ÿâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        <span class="card-info-icon" style="position: relative;">
                                            !
                                            <div class="card-tooltip" style="text-align: right; direction: rtl;">
                                                <strong>ŸÖÿ§ÿ¥ÿ± ÿßŸÑŸÑŸàŸÜ:</strong><br>
                                                <span style="color: #ef4444;">‚óè</span> ÿ£ŸÇŸÑ ŸÖŸÜ 90% ŸÖÿ™ÿ≠ŸÉŸÖ<br>
                                                <span style="color: #10b981;">‚óè</span> 90% Ÿàÿ£ŸÉÿ´ÿ± ŸÖÿ™ÿ≠ŸÉŸÖ
                                            </div>
                                        </span>
                                    </div>
                                    <div style="border-top: 1px solid #e5e5e7; padding-top: 8px; margin-top: 8px;">
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(totalControlledDm).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${controlledDmPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ŸÖÿ™ÿ≠ŸÉŸÖ ÿ®ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        </div>
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(totalUncontrolledDm).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${uncontrolledDmPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ÿ∫Ÿäÿ± ŸÖÿ™ÿ≠ŸÉŸÖ ÿ®ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        </div>
                                    </div>
                                </div>
                                <div style="border: 3px solid ${preDmCardColor}; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box; position: relative;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 3px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(totalPreDm).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <span>ŸÖÿß ŸÇÿ®ŸÑ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        <span class="card-info-icon" style="position: relative;">
                                            !
                                            <div class="card-tooltip" style="text-align: right; direction: rtl;">
                                                <strong>ŸÖÿ§ÿ¥ÿ± ÿßŸÑŸÑŸàŸÜ:</strong><br>
                                                <span style="color: #ef4444;">‚óè</span> ÿ£ŸÇŸÑ ŸÖŸÜ 20% ÿπÿßÿØ ŸÑŸÑÿ∑ÿ®ŸäÿπŸä<br>
                                                <span style="color: #f59e0b;">‚óè</span> 20% - 30% ÿπÿßÿØ ŸÑŸÑÿ∑ÿ®ŸäÿπŸä<br>
                                                <span style="color: #10b981;">‚óè</span> 30% Ÿàÿ£ŸÉÿ´ÿ± ÿπÿßÿØ ŸÑŸÑÿ∑ÿ®ŸäÿπŸä
                                            </div>
                                        </span>
                                    </div>
                                    <div style="border-top: 1px solid #e5e5e7; padding-top: 8px; margin-top: 8px;">
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(totalPreDmToNormal).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${preDmToNormalPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ÿπÿßÿØ ÿ•ŸÑŸâ ÿßŸÑÿ∑ÿ®ŸäÿπŸä</span>
                                        </div>
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(totalPreDmNoVisit90days).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${preDmNoVisit90daysPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ŸÑŸÖ Ÿäÿ™ÿßÿ®ÿπ Ÿ©Ÿ†+ ŸäŸàŸÖ</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-map-container">
                        <div class="slide-map" id="slide-map-overview"></div>
                        <div class="presentation-controls">
                            <button class="presentation-nav-btn" onclick="previousSlide()">‚Äπ</button>
                            <div class="slide-indicator">1 / ${totalSlides}</div>
                            <button class="presentation-nav-btn" onclick="nextSlide()">‚Ä∫</button>
                        </div>
                    </div>
                    <div class="slide-new-section">
                        <h3 style="font-size: clamp(16px, 2.5vh, 22px); font-weight: 700; color: #1d1d1f; margin: 0 0 clamp(10px, 1.6vh, 13px) 0; text-align: center; letter-spacing: -0.3px; flex-shrink: 0; width: 100%;">ŸÖÿ§ÿ¥ÿ±ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸäÿßÿ™</h3>
                        <div style="display: flex; flex-direction: row; gap: clamp(10px, 1.5vh, 14px); flex: 1; min-height: 0; overflow: hidden;">
                            <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(12px, 1.8vh, 16px); background: #fafafa; display: flex; flex-direction: column; min-height: 0; overflow: hidden; flex: 1;">
                                <h4 style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 600; color: #1d1d1f; margin: 0 0 clamp(4px, 0.6vh, 6px) 0; text-align: center; flex-shrink: 0; display: flex; align-items: center; justify-content: center; gap: 6px;">
                                    <span>ÿ™ÿ∫ÿ∑Ÿäÿ© ÿßŸÑŸÅÿ≠ÿµ</span>
                                    <button class="card-toggle-btn" onclick="toggleOverviewCardMarkers('screening')" id="toggle-overview-screening" title="ÿπÿ±ÿ∂/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©">‚óè</button>
                                </h4>
                                <p style="font-size: clamp(11px, 1.4vh, 13px); font-weight: 500; color: #86868b; margin: 0 0 clamp(8px, 1.2vh, 12px) 0; text-align: center; flex-shrink: 0;">ŸÖÿ±ÿßŸÉÿ≤ ÿµÿ≠Ÿäÿ© ŸÑŸÖ ÿ™ÿµŸÑ ÿ•ŸÑŸâ 70%</p>
                                <div style="flex: 1; overflow-y: auto; width: 100%;">
                                    ${overviewScreeningListHtml}
                                </div>
                            </div>
                            <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(12px, 1.8vh, 16px); background: #fafafa; display: flex; flex-direction: column; min-height: 0; overflow: hidden; flex: 1;">
                                <h4 style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 600; color: #1d1d1f; margin: 0 0 clamp(4px, 0.6vh, 6px) 0; text-align: center; flex-shrink: 0; display: flex; align-items: center; justify-content: center; gap: 6px;">
                                    <span>ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                    <button class="card-toggle-btn" onclick="toggleOverviewCardMarkers('controlled')" id="toggle-overview-controlled" title="ÿπÿ±ÿ∂/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©">‚óè</button>
                                </h4>
                                <p style="font-size: clamp(11px, 1.4vh, 13px); font-weight: 500; color: #86868b; margin: 0 0 clamp(8px, 1.2vh, 12px) 0; text-align: center; flex-shrink: 0;">ŸÖÿ±ÿßŸÉÿ≤ ÿµÿ≠Ÿäÿ© ŸÑŸÖ ÿ™ÿµŸÑ ÿ•ŸÑŸâ 90%</p>
                                <div style="flex: 1; overflow-y: auto; width: 100%;">
                                    ${overviewControlledListHtml}
                                </div>
                            </div>
                            <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(12px, 1.8vh, 16px); background: #fafafa; display: flex; flex-direction: column; min-height: 0; overflow: hidden; flex: 1;">
                                <h4 style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 600; color: #1d1d1f; margin: 0 0 clamp(4px, 0.6vh, 6px) 0; text-align: center; flex-shrink: 0; display: flex; align-items: center; justify-content: center; gap: 6px;">
                                    <span>ÿπÿßÿØ ÿ•ŸÑŸâ ÿßŸÑÿ∑ÿ®ŸäÿπŸä</span>
                                    <button class="card-toggle-btn" onclick="toggleOverviewCardMarkers('returnedToNormal')" id="toggle-overview-returnedToNormal" title="ÿπÿ±ÿ∂/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©">‚óè</button>
                                </h4>
                                <p style="font-size: clamp(11px, 1.4vh, 13px); font-weight: 500; color: #86868b; margin: 0 0 clamp(8px, 1.2vh, 12px) 0; text-align: center; flex-shrink: 0;">ŸÖÿ±ÿßŸÉÿ≤ ÿµÿ≠Ÿäÿ© ŸÑŸÖ ÿ™ÿµŸÑ ÿ•ŸÑŸâ 30%</p>
                                <div style="flex: 1; overflow-y: auto; width: 100%;">
                                    ${overviewReturnedToNormalListHtml}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            slide.innerHTML = overviewHtml;
            return slide;
        };

        const createPresentationSlide = (zoneId, index) => {
            const info = zoneInfo[zoneId];
            const phcs = healthcareCenters.filter(c => c.zone === zoneId);
            const zoneColor = zoneColors[zoneId];
            const totalSlides = zoneOrder.length + 1; // +1 for overview
            
            // Map zoneId to zone_en (uppercase)
            const zoneEn = zoneId.toUpperCase();
            
            // Filter data for this zone
            const zoneData = organizationsDmPredmScreeningData.filter(org => org.zone_en === zoneEn);
            
            // Calculate totals for this zone
            const zoneTarget = zoneData.reduce((sum, org) => {
                const target = typeof org.targetByPhc === 'number' ? org.targetByPhc : parseFloat(org.targetByPhc) || 0;
                return sum + target;
            }, 0);
            const zoneScreened = zoneData.reduce((sum, org) => {
                const screened = typeof org.screenedByPhc === 'number' ? org.screenedByPhc : parseFloat(org.screenedByPhc) || 0;
                return sum + screened;
            }, 0);
            const zoneScreenedPercentage = zoneTarget > 0 ? ((zoneScreened / zoneTarget) * 100).toFixed(1) : 0;
            const zoneScreenedPercentageNum = parseFloat(zoneScreenedPercentage) || 0;
            const zoneScreenedCardColor = zoneScreenedPercentageNum < 50 ? '#ef4444' : zoneScreenedPercentageNum < 70 ? '#f59e0b' : '#10b981';
            const zoneDm = zoneData.reduce((sum, org) => {
                const dm = typeof org.dmPatients === 'number' ? org.dmPatients : parseFloat(org.dmPatients) || 0;
                return sum + dm;
            }, 0);
            const zoneControlledDm = zoneData.reduce((sum, org) => {
                const controlled = typeof org.controlledDm === 'number' ? org.controlledDm : parseFloat(org.controlledDm) || 0;
                return sum + controlled;
            }, 0);
            const zoneUncontrolledDm = zoneData.reduce((sum, org) => {
                const uncontrolled = typeof org.uncontrolledDm === 'number' ? org.uncontrolledDm : parseFloat(org.uncontrolledDm) || 0;
                return sum + uncontrolled;
            }, 0);
            const zoneControlledDmPercentage = zoneDm > 0 ? ((zoneControlledDm / zoneDm) * 100).toFixed(1) : 0;
            const zoneUncontrolledDmPercentage = zoneDm > 0 ? ((zoneUncontrolledDm / zoneDm) * 100).toFixed(1) : 0;
            const zoneControlledDmPercentageNum = parseFloat(zoneControlledDmPercentage) || 0;
            const zoneDmCardColor = zoneControlledDmPercentageNum >= 90 ? '#10b981' : '#ef4444';
            const zonePreDm = zoneData.reduce((sum, org) => {
                const preDm = typeof org.preDmPatients === 'number' ? org.preDmPatients : parseFloat(org.preDmPatients) || 0;
                return sum + preDm;
            }, 0);
            const zonePreDmToNormal = zoneData.reduce((sum, org) => {
                const toNormal = typeof org.preDmToNormal === 'number' ? org.preDmToNormal : parseFloat(org.preDmToNormal) || 0;
                return sum + toNormal;
            }, 0);
            const zonePreDmNoVisit90days = zoneData.reduce((sum, org) => {
                const noVisit = typeof org.preDmPatientsNoVisit90days === 'number' ? org.preDmPatientsNoVisit90days : parseFloat(org.preDmPatientsNoVisit90days) || 0;
                return sum + noVisit;
            }, 0);
            const zonePreDmToNormalPercentage = zonePreDm > 0 ? ((zonePreDmToNormal / zonePreDm) * 100).toFixed(1) : 0;
            const zonePreDmNoVisit90daysPercentage = zonePreDm > 0 ? ((zonePreDmNoVisit90days / zonePreDm) * 100).toFixed(1) : 0;
            const zonePreDmToNormalPercentageNum = parseFloat(zonePreDmToNormalPercentage) || 0;
            const zonePreDmCardColor = zonePreDmToNormalPercentageNum < 20 ? '#ef4444' : zonePreDmToNormalPercentageNum < 30 ? '#f59e0b' : '#10b981';
            
            const hexToRgba = (hex, alpha) => {
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${alpha})`;
            };
            
            const zoneNameEn = zoneNames[zoneOrder.indexOf(zoneId)] || zoneId.toUpperCase();

            // PHCs closed for maintenance - exclude from list
            const closedPhcs = [
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠ÿ®ŸàŸÜÿß',
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ™ŸÖÿßŸÜŸä ÿ¥ÿ±Ÿàÿ±ÿ©',
                'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿ±ŸÜ',
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ©ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿ∫ŸàŸäŸÑÿ©'
            ];
            
            // Calculate and rank PHCs with screening < 70%
            const phcsBelow70 = zoneData.map(org => {
                const screened = typeof org.screenedByPhc === 'number' ? org.screenedByPhc : parseFloat(org.screenedByPhc) || 0;
                const target = typeof org.targetByPhc === 'number' ? org.targetByPhc : parseFloat(org.targetByPhc) || 0;
                const percentage = target > 0 ? ((screened / target) * 100) : 0;
                return {
                    name: org.organization_ar || org.organization_en,
                    screened: screened,
                    target: target,
                    percentage: percentage
                };
            })
            .filter(phc => phc.percentage < 70 && !closedPhcs.includes(phc.name))
            .sort((a, b) => a.percentage - b.percentage);

            // Calculate and rank PHCs with controlled DM < 90%
            const phcsControlledBelow90 = zoneData.map(org => {
                const dmPatients = typeof org.dmPatients === 'number' ? org.dmPatients : parseFloat(org.dmPatients) || 0;
                const controlledDm = typeof org.controlledDm === 'number' ? org.controlledDm : parseFloat(org.controlledDm) || 0;
                const percentage = dmPatients > 0 ? ((controlledDm / dmPatients) * 100) : 0;
                return {
                    name: org.organization_ar || org.organization_en,
                    controlled: controlledDm,
                    total: dmPatients,
                    percentage: percentage
                };
            })
            .filter(phc => phc.total > 0 && phc.percentage < 90 && !closedPhcs.includes(phc.name))
            .sort((a, b) => a.percentage - b.percentage);

            // Calculate and rank PHCs with returned to normal < 30%
            const phcsReturnedToNormalBelow30 = zoneData.map(org => {
                const preDmPatients = typeof org.preDmPatients === 'number' ? org.preDmPatients : parseFloat(org.preDmPatients) || 0;
                const preDmToNormal = typeof org.preDmToNormal === 'number' ? org.preDmToNormal : parseFloat(org.preDmToNormal) || 0;
                const percentage = preDmPatients > 0 ? ((preDmToNormal / preDmPatients) * 100) : 0;
                return {
                    name: org.organization_ar || org.organization_en,
                    returnedToNormal: preDmToNormal,
                    total: preDmPatients,
                    percentage: percentage
                };
            })
            .filter(phc => phc.total > 0 && phc.percentage < 30 && !closedPhcs.includes(phc.name))
            .sort((a, b) => a.percentage - b.percentage);

            const slide = document.createElement('div');
            slide.className = 'presentation-slide';
            slide.id = `slide-${zoneId}`;
            const slideNumber = index + 2;

            const phcsListHtml = phcsBelow70.length > 0 
                ? phcsBelow70.map((phc, idx) => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: clamp(8px, 1.2vh, 12px); border-bottom: 1px solid #e5e5e7; direction: rtl;">
                        <div style="flex: 1; text-align: right;">
                            <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin-bottom: 2px;">${phc.name}</div>
                            <div style="font-size: clamp(9px, 1.2vh, 12px); color: #86868b;">${Math.round(phc.screened).toLocaleString('en-US')} / ${Math.round(phc.target).toLocaleString('en-US')}</div>
                        </div>
                        <div style="margin-left: clamp(8px, 1.2vw, 12px); text-align: left; flex-shrink: 0;">
                            <div style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 700; color: ${phc.percentage < 50 ? '#ef4444' : '#f59e0b'};">${phc.percentage.toFixed(1)}%</div>
                            <div style="font-size: clamp(8px, 1vh, 10px); color: #86868b;">#${idx + 1}</div>
                        </div>
                    </div>
                `).join('')
                : '<div style="padding: clamp(20px, 3vh, 30px); text-align: center; color: #10b981; font-size: clamp(12px, 1.6vh, 16px); display: flex; flex-direction: column; align-items: center; gap: clamp(8px, 1.2vh, 12px);"><div style="width: clamp(32px, 4vh, 48px); height: clamp(32px, 4vh, 48px); border-radius: 50%; background: #10b981; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071L3.29289 10.7071C2.90237 10.3166 2.90237 9.68342 3.29289 9.29289C3.68342 8.90237 4.31658 8.90237 4.70711 9.29289L8 12.5858L15.2929 5.29289C15.6834 4.90237 16.3166 4.90237 16.7071 5.29289Z" fill="white"/></svg></div><div style="font-weight: 600;">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿµŸÑÿ™ ÿ•ŸÑŸâ 70% ÿ£Ÿà ÿ£ŸÉÿ´ÿ±</div></div>';

            const controlledListHtml = phcsControlledBelow90.length > 0
                ? phcsControlledBelow90.map((phc, idx) => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: clamp(8px, 1.2vh, 12px); border-bottom: 1px solid #e5e5e7; direction: rtl;">
                        <div style="flex: 1; text-align: right;">
                            <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin-bottom: 2px;">${phc.name}</div>
                            <div style="font-size: clamp(9px, 1.2vh, 12px); color: #86868b;">${Math.round(phc.controlled).toLocaleString('en-US')} / ${Math.round(phc.total).toLocaleString('en-US')}</div>
                        </div>
                        <div style="margin-left: clamp(8px, 1.2vw, 12px); text-align: left; flex-shrink: 0;">
                            <div style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 700; color: #ef4444;">${phc.percentage.toFixed(1)}%</div>
                            <div style="font-size: clamp(8px, 1vh, 10px); color: #86868b;">#${idx + 1}</div>
                        </div>
                    </div>
                `).join('')
                : '<div style="padding: clamp(20px, 3vh, 30px); text-align: center; color: #10b981; font-size: clamp(12px, 1.6vh, 16px); display: flex; flex-direction: column; align-items: center; gap: clamp(8px, 1.2vh, 12px);"><div style="width: clamp(32px, 4vh, 48px); height: clamp(32px, 4vh, 48px); border-radius: 50%; background: #10b981; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071L3.29289 10.7071C2.90237 10.3166 2.90237 9.68342 3.29289 9.29289C3.68342 8.90237 4.31658 8.90237 4.70711 9.29289L8 12.5858L15.2929 5.29289C15.6834 4.90237 16.3166 4.90237 16.7071 5.29289Z" fill="white"/></svg></div><div style="font-weight: 600;">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿµŸÑÿ™ ÿ•ŸÑŸâ 90% ÿ£Ÿà ÿ£ŸÉÿ´ÿ±</div></div>';

            const returnedToNormalListHtml = phcsReturnedToNormalBelow30.length > 0
                ? phcsReturnedToNormalBelow30.map((phc, idx) => `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: clamp(8px, 1.2vh, 12px); border-bottom: 1px solid #e5e5e7; direction: rtl;">
                        <div style="flex: 1; text-align: right;">
                            <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin-bottom: 2px;">${phc.name}</div>
                            <div style="font-size: clamp(9px, 1.2vh, 12px); color: #86868b;">${Math.round(phc.returnedToNormal).toLocaleString('en-US')} / ${Math.round(phc.total).toLocaleString('en-US')}</div>
                        </div>
                        <div style="margin-left: clamp(8px, 1.2vw, 12px); text-align: left; flex-shrink: 0;">
                            <div style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 700; color: ${phc.percentage < 20 ? '#ef4444' : '#f59e0b'};">${phc.percentage.toFixed(1)}%</div>
                            <div style="font-size: clamp(8px, 1vh, 10px); color: #86868b;">#${idx + 1}</div>
                        </div>
                    </div>
                `).join('')
                : '<div style="padding: clamp(20px, 3vh, 30px); text-align: center; color: #10b981; font-size: clamp(12px, 1.6vh, 16px); display: flex; flex-direction: column; align-items: center; gap: clamp(8px, 1.2vh, 12px);"><div style="width: clamp(32px, 4vh, 48px); height: clamp(32px, 4vh, 48px); border-radius: 50%; background: #10b981; display: flex; align-items: center; justify-content: center; flex-shrink: 0;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071L3.29289 10.7071C2.90237 10.3166 2.90237 9.68342 3.29289 9.29289C3.68342 8.90237 4.31658 8.90237 4.70711 9.29289L8 12.5858L15.2929 5.29289C15.6834 4.90237 16.3166 4.90237 16.7071 5.29289Z" fill="white"/></svg></div><div style="font-weight: 600;">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿµŸÑÿ™ ÿ•ŸÑŸâ 30% ÿ£Ÿà ÿ£ŸÉÿ´ÿ±</div></div>';

            slide.innerHTML = `
                <div class="slide-header">
                    <img src="light_mode_logo.png" alt="Najran Health Cluster" class="slide-logo">
                    <div class="slide-title-section">
                        <h1 class="slide-title">Najran Health Cluster</h1>
                        <p class="slide-subtitle">ÿ™ÿ¨ŸÖÿπ ŸÜÿ¨ÿ±ÿßŸÜ ÿßŸÑÿµÿ≠Ÿä</p>
                    </div>
                </div>
                <div class="slide-content">
                    <div class="slide-info-container">
                        <div class="infographic-section zone-name-desktop" style="display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: clamp(13px, 2vh, 19px); width: 100%; min-height: 100%; box-sizing: border-box; overflow: visible;">
                            <h2 style="font-size: clamp(19px, 3.2vh, 29px); font-weight: 800; color: #1d1d1f; margin: 0 0 5px 0; text-align: center; letter-spacing: -0.5px; flex-shrink: 0;">${info.name}</h2>
                            <p style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; margin: 0 0 clamp(13px, 2vh, 19px) 0; text-align: center; flex-shrink: 0;">${zoneNameEn}</p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: clamp(10px, 1.6vh, 13px); width: 100%; flex: 1 1 auto; min-height: 0; box-sizing: border-box;">
                                <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 5px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${phcs.length}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-top: 5px;">ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿ£ŸàŸÑŸä</div>
                                </div>
                                <div style="border: 3px solid ${zoneScreenedCardColor}; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box; position: relative;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 3px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(zoneScreened).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(11px, 1.5vh, 14px); font-weight: 600; color: #1d1d1f; margin: 3px 0; line-height: 1.2;">${zoneScreenedPercentage}%</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-top: 5px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <span>ÿ™ŸÖ ÿßŸÑŸÅÿ≠ÿµ</span>
                                        <span class="card-info-icon" style="position: relative;">
                                            !
                                            <div class="card-tooltip" style="text-align: right; direction: rtl;">
                                                <strong>ŸÖÿ§ÿ¥ÿ± ÿßŸÑŸÑŸàŸÜ:</strong><br>
                                                <span style="color: #ef4444;">‚óè</span> ÿ£ŸÇŸÑ ŸÖŸÜ 50%<br>
                                                <span style="color: #f59e0b;">‚óè</span> 50% - 69%<br>
                                                <span style="color: #10b981;">‚óè</span> 70% Ÿàÿ£ŸÉÿ´ÿ±
                                            </div>
                                        </span>
                                    </div>
                                </div>
                                <div style="border: 3px solid ${zoneDmCardColor}; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box; position: relative;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 3px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(zoneDm).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <span>ŸÖÿ±ÿ∂Ÿâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        <span class="card-info-icon" style="position: relative;">
                                            !
                                            <div class="card-tooltip" style="text-align: right; direction: rtl;">
                                                <strong>ŸÖÿ§ÿ¥ÿ± ÿßŸÑŸÑŸàŸÜ:</strong><br>
                                                <span style="color: #ef4444;">‚óè</span> ÿ£ŸÇŸÑ ŸÖŸÜ 90% ŸÖÿ™ÿ≠ŸÉŸÖ<br>
                                                <span style="color: #10b981;">‚óè</span> 90% Ÿàÿ£ŸÉÿ´ÿ± ŸÖÿ™ÿ≠ŸÉŸÖ
                                            </div>
                                        </span>
                                    </div>
                                    <div style="border-top: 1px solid #e5e5e7; padding-top: 8px; margin-top: 8px;">
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(zoneControlledDm).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${zoneControlledDmPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ŸÖÿ™ÿ≠ŸÉŸÖ ÿ®ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        </div>
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(zoneUncontrolledDm).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${zoneUncontrolledDmPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ÿ∫Ÿäÿ± ŸÖÿ™ÿ≠ŸÉŸÖ ÿ®ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        </div>
                                    </div>
                                </div>
                                <div style="border: 3px solid ${zonePreDmCardColor}; border-radius: 10px; padding: clamp(13px, 2vh, 16px); text-align: center; background: #fafafa; box-sizing: border-box; position: relative;">
                                    <div style="font-size: clamp(32px, 4.8vh, 51px); font-weight: 800; color: #1d1d1f; margin: 0 0 3px 0; line-height: 1; word-break: break-word; overflow-wrap: break-word;">${Math.round(zonePreDm).toLocaleString('en-US')}</div>
                                    <div style="font-size: clamp(10px, 1.4vh, 13px); color: #86868b; font-weight: 500; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <span>ŸÖÿß ŸÇÿ®ŸÑ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                        <span class="card-info-icon" style="position: relative;">
                                            !
                                            <div class="card-tooltip" style="text-align: right; direction: rtl;">
                                                <strong>ŸÖÿ§ÿ¥ÿ± ÿßŸÑŸÑŸàŸÜ:</strong><br>
                                                <span style="color: #ef4444;">‚óè</span> ÿ£ŸÇŸÑ ŸÖŸÜ 20% ÿπÿßÿØ ŸÑŸÑÿ∑ÿ®ŸäÿπŸä<br>
                                                <span style="color: #f59e0b;">‚óè</span> 20% - 30% ÿπÿßÿØ ŸÑŸÑÿ∑ÿ®ŸäÿπŸä<br>
                                                <span style="color: #10b981;">‚óè</span> 30% Ÿàÿ£ŸÉÿ´ÿ± ÿπÿßÿØ ŸÑŸÑÿ∑ÿ®ŸäÿπŸä
                                            </div>
                                        </span>
                                    </div>
                                    <div style="border-top: 1px solid #e5e5e7; padding-top: 8px; margin-top: 8px;">
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(zonePreDmToNormal).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${zonePreDmToNormalPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ÿπÿßÿØ ÿ•ŸÑŸâ ÿßŸÑÿ∑ÿ®ŸäÿπŸä</span>
                                        </div>
                                        <div style="font-size: clamp(9px, 1.2vh, 11px); color: #1d1d1f; margin: 3px 0; line-height: 1.3;">
                                            <span style="font-weight: 600;">${Math.round(zonePreDmNoVisit90days).toLocaleString('en-US')}</span> 
                                            <span style="color: #86868b; font-weight: 500;">(${zonePreDmNoVisit90daysPercentage}%)</span> 
                                            <span style="color: #86868b; font-size: clamp(8px, 1vh, 10px);">ŸÑŸÖ Ÿäÿ™ÿßÿ®ÿπ Ÿ©Ÿ†+ ŸäŸàŸÖ</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-map-container">
                        <div class="slide-map" id="slide-map-${zoneId}"></div>
                        <div class="presentation-controls">
                            <button class="presentation-nav-btn" onclick="previousSlide()">‚Äπ</button>
                            <div class="slide-indicator">${slideNumber} / ${totalSlides}</div>
                            <button class="presentation-nav-btn" onclick="nextSlide()">‚Ä∫</button>
                        </div>
                    </div>
                    <div class="slide-new-section">
                        <h3 style="font-size: clamp(16px, 2.5vh, 22px); font-weight: 700; color: #1d1d1f; margin: 0 0 clamp(10px, 1.6vh, 13px) 0; text-align: center; letter-spacing: -0.3px; flex-shrink: 0; width: 100%;">ŸÖÿ§ÿ¥ÿ±ÿßÿ™ ÿßŸÑŸÖÿ±ÿßŸÉÿ≤ ÿßŸÑÿµÿ≠Ÿäÿ©</h3>
                        <div style="display: flex; flex-direction: row; gap: clamp(10px, 1.5vh, 14px); flex: 1; min-height: 0; overflow: hidden;">
                            <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(12px, 1.8vh, 16px); background: #fafafa; display: flex; flex-direction: column; min-height: 0; overflow: hidden; flex: 1;">
                                <h4 style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 600; color: #1d1d1f; margin: 0 0 clamp(4px, 0.6vh, 6px) 0; text-align: center; flex-shrink: 0; display: flex; align-items: center; justify-content: center; gap: 6px;">
                                    <span>ÿ™ÿ∫ÿ∑Ÿäÿ© ÿßŸÑŸÅÿ≠ÿµ</span>
                                    <button class="card-toggle-btn" onclick="toggleCardMarkers('${zoneId}', 'screening')" id="toggle-screening-${zoneId}" title="ÿπÿ±ÿ∂/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©">‚óè</button>
                                </h4>
                                <p style="font-size: clamp(11px, 1.4vh, 13px); font-weight: 500; color: #86868b; margin: 0 0 clamp(8px, 1.2vh, 12px) 0; text-align: center; flex-shrink: 0;">ŸÖÿ±ÿßŸÉÿ≤ ÿµÿ≠Ÿäÿ© ŸÑŸÖ ÿ™ÿµŸÑ ÿ•ŸÑŸâ 70%</p>
                                <div style="flex: 1; overflow-y: auto; width: 100%;">
                                    ${phcsListHtml}
                                </div>
                            </div>
                            <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(12px, 1.8vh, 16px); background: #fafafa; display: flex; flex-direction: column; min-height: 0; overflow: hidden; flex: 1;">
                                <h4 style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 600; color: #1d1d1f; margin: 0 0 clamp(4px, 0.6vh, 6px) 0; text-align: center; flex-shrink: 0; display: flex; align-items: center; justify-content: center; gap: 6px;">
                                    <span>ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ≥ŸÉÿ±Ÿä</span>
                                    <button class="card-toggle-btn" onclick="toggleCardMarkers('${zoneId}', 'controlled')" id="toggle-controlled-${zoneId}" title="ÿπÿ±ÿ∂/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©">‚óè</button>
                                </h4>
                                <p style="font-size: clamp(11px, 1.4vh, 13px); font-weight: 500; color: #86868b; margin: 0 0 clamp(8px, 1.2vh, 12px) 0; text-align: center; flex-shrink: 0;">ŸÖÿ±ÿßŸÉÿ≤ ÿµÿ≠Ÿäÿ© ŸÑŸÖ ÿ™ÿµŸÑ ÿ•ŸÑŸâ 90%</p>
                                <div style="flex: 1; overflow-y: auto; width: 100%;">
                                    ${controlledListHtml}
                                </div>
                            </div>
                            <div style="border: 2px solid #e5e5e7; border-radius: 10px; padding: clamp(12px, 1.8vh, 16px); background: #fafafa; display: flex; flex-direction: column; min-height: 0; overflow: hidden; flex: 1;">
                                <h4 style="font-size: clamp(13px, 1.8vh, 16px); font-weight: 600; color: #1d1d1f; margin: 0 0 clamp(4px, 0.6vh, 6px) 0; text-align: center; flex-shrink: 0; display: flex; align-items: center; justify-content: center; gap: 6px;">
                                    <span>ÿπÿßÿØ ÿ•ŸÑŸâ ÿßŸÑÿ∑ÿ®ŸäÿπŸä</span>
                                    <button class="card-toggle-btn" onclick="toggleCardMarkers('${zoneId}', 'returnedToNormal')" id="toggle-returnedToNormal-${zoneId}" title="ÿπÿ±ÿ∂/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ£ŸÑŸàÿßŸÜ ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©">‚óè</button>
                                </h4>
                                <p style="font-size: clamp(11px, 1.4vh, 13px); font-weight: 500; color: #86868b; margin: 0 0 clamp(8px, 1.2vh, 12px) 0; text-align: center; flex-shrink: 0;">ŸÖÿ±ÿßŸÉÿ≤ ÿµÿ≠Ÿäÿ© ŸÑŸÖ ÿ™ÿµŸÑ ÿ•ŸÑŸâ 30%</p>
                                <div style="flex: 1; overflow-y: auto; width: 100%;">
                                    ${returnedToNormalListHtml}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            return slide;
        };

        // Initialize maps from scratch
        let presentationMaps = {};

        const initializePresentationMaps = () => {
            if (typeof L === 'undefined') {
                setTimeout(() => initializePresentationMaps(), 500);
                return;
            }

            // Prevent multiple initializations
            if (window.mapsInitializing) return;
            
            // Check if all maps are already initialized
            const overviewExists = presentationMaps && presentationMaps['overview'];
            const allZoneMapsExist = zoneOrder.every(zoneId => presentationMaps && presentationMaps[zoneId]);
            if (overviewExists && allZoneMapsExist) {
                return;
            }
            
            window.mapsInitializing = true;

            const allPolygonsData = [
                { coords: sghZoneCoordinates, color: '#4A90E2', id: 'sgh' },
                { coords: kghZoneCoordinates, color: '#5BA3F5', id: 'kgh' },
                { coords: nnghZoneCoordinates, color: '#357ABD', id: 'nngh' },
                { coords: wnhZoneCoordinates, color: '#6BB6FF', id: 'wnh' },
                { coords: mchZoneCoordinates, color: '#2E5C8A', id: 'mch' },
                { coords: kkhZoneCoordinates, color: '#7FC8F8', id: 'kkh' },
                { coords: tghZoneCoordinates, color: '#1E6BA8', id: 'tgh' },
                { coords: bghZoneCoordinates, color: '#8CC8FF', id: 'bgh' },
                { coords: yghZoneCoordinates, color: '#2563A5', id: 'ygh' },
                { coords: hghZoneCoordinates, color: '#4A9EFF', id: 'hgh' }
            ];

            // Calculate bounds for all zones
            let allBounds = null;
            allPolygonsData.forEach(poly => {
                const tempPoly = L.polygon(poly.coords);
                const bounds = tempPoly.getBounds();
                if (!allBounds) {
                    allBounds = bounds;
                } else {
                    allBounds.extend(bounds);
                }
            });

            // Initialize overview map
            const overviewContainer = document.getElementById('slide-map-overview');
            if (overviewContainer && !presentationMaps['overview']) {
                try {
                    const map = L.map(overviewContainer, {
                        zoomControl: false,
                        attributionControl: false
                    });

                    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                        attribution: '',
                        subdomains: 'abcd',
                        maxZoom: 20
                    }).addTo(map);

                    map.setView([18.0, 48.0], 7);

                    // Add all polygons
                    allPolygonsData.forEach(poly => {
                        L.polygon(poly.coords, {
                            fillColor: poly.color,
                            fillOpacity: 0.5,
                            weight: 2,
                            color: poly.color
                        }).addTo(map);
                    });

                    // Add all markers (default)
                    const overviewMarkers = [];
                    healthcareCenters.forEach(center => {
                        const marker = L.marker([center.lat, center.lng], {
                            icon: createMinimalIcon(zoneColors[center.zone])
                        }).addTo(map);
                        overviewMarkers.push(marker);
                    });

                    // Store markers and marker layers in map object
                    map._defaultMarkers = overviewMarkers;
                    map._coloredMarkers = {
                        screening: L.layerGroup(),
                        controlled: L.layerGroup(),
                        returnedToNormal: L.layerGroup()
                    };
                    map._activeToggle = null; // Track which toggle is active

                    presentationMaps['overview'] = map;

                    setTimeout(() => {
                        if (map && overviewContainer) {
                            const rect = overviewContainer.getBoundingClientRect();
                            if (rect.width > 0 && rect.height > 0) {
                                map.invalidateSize();
                                setTimeout(() => {
                                    if (map && allBounds && allBounds.isValid()) {
                                        map.fitBounds(allBounds, { padding: [50, 50], animate: false });
                                    }
                                }, 200);
                            }
                        }
                    }, 600);
                } catch (error) {
                    console.error('Error initializing overview map:', error);
                }
            }

            // Initialize zone maps
            zoneOrder.forEach(zoneId => {
                const container = document.getElementById(`slide-map-${zoneId}`);
                if (!container || presentationMaps[zoneId]) return;

                try {
                    const map = L.map(container, {
                        zoomControl: false,
                        attributionControl: false
                    });

                    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                        attribution: '',
                        subdomains: 'abcd',
                        maxZoom: 20
                    }).addTo(map);

                    map.setView([18.0, 48.0], 7);

                    // Add all polygons (highlight selected zone)
                    const zonePolygons = [];
                    allPolygonsData.forEach(poly => {
                        const polygon = L.polygon(poly.coords, {
                            fillColor: poly.color,
                            fillOpacity: poly.id === zoneId ? 0.5 : 0.15,
                            weight: poly.id === zoneId ? 2 : 0,
                            color: poly.color
                        }).addTo(map);
                        if (poly.id === zoneId) {
                            zonePolygons.push(polygon);
                        }
                    });

                    // Add zone markers (default)
                    const zoneMarkers = [];
                    healthcareCenters.filter(c => c.zone === zoneId).forEach(center => {
                        const marker = L.marker([center.lat, center.lng], {
                            icon: createMinimalIcon(zoneColors[zoneId])
                        }).addTo(map);
                        zoneMarkers.push(marker);
                    });

                    // Store markers and marker layers in map object
                    map._defaultMarkers = zoneMarkers;
                    map._coloredMarkers = {
                        screening: L.layerGroup(),
                        controlled: L.layerGroup(),
                        returnedToNormal: L.layerGroup()
                    };
                    map._activeToggle = null; // Track which toggle is active
                    map._zoneId = zoneId; // Store zone ID

                    presentationMaps[zoneId] = map;

                    // Zoom to selected zone
                    setTimeout(() => {
                        if (map && container) {
                            const rect = container.getBoundingClientRect();
                            if (rect.width > 0 && rect.height > 0) {
                                map.invalidateSize();
                                setTimeout(() => {
                                    if (map) {
                                        const zoneFeatures = [...zonePolygons, ...zoneMarkers];
                                        if (zoneFeatures.length > 0) {
                                            const zoneGroup = L.featureGroup(zoneFeatures);
                                            const zoneBounds = zoneGroup.getBounds();
                                            if (zoneBounds.isValid()) {
                                                map.fitBounds(zoneBounds, { padding: [80, 80], animate: true, duration: 0.5 });
                                            }
                                        }
                                    }
                                }, 200);
                            }
                        }
                    }, 800);
                } catch (error) {
                    console.error(`Error initializing map for ${zoneId}:`, error);
                }
            });
            
            window.mapsInitializing = false;
        };

        const showSlide = (index) => {
            const slides = document.querySelectorAll('.presentation-slide');
            slides.forEach(slide => slide.classList.remove('active'));
            
            if (slides[index]) {
                slides[index].classList.add('active');
                currentSlideIndex = index;
                
                const indicators = document.querySelectorAll('.slide-indicator');
                indicators.forEach(indicator => {
                    indicator.textContent = `${index + 1} / ${slides.length}`;
                });

                // Initialize maps only once
                if (!window.mapsInitialized) {
                    window.mapsInitialized = true;
                    setTimeout(() => initializePresentationMaps(), 200);
                }

                // Update map when slide becomes visible - wait for slide transition
                setTimeout(() => {
                    const activeSlide = slides[index];
                    if (!activeSlide || !activeSlide.classList.contains('active')) return;
                    
                    if (index === 0) {
                        if (presentationMaps && presentationMaps['overview']) {
                            const map = presentationMaps['overview'];
                            const container = document.getElementById('slide-map-overview');
                            if (container) {
                                const rect = container.getBoundingClientRect();
                                // Only invalidate if container is visible and has dimensions
                                if (rect.width > 0 && rect.height > 0) {
                                    // Check if size actually changed before invalidating
                                    const currentSize = map.getSize();
                                    if (currentSize.x !== rect.width || currentSize.y !== rect.height) {
                                        map.invalidateSize();
                                    }
                                }
                            }
                        }
                    } else {
                        const zoneId = zoneOrder[index - 1];
                        if (presentationMaps && presentationMaps[zoneId]) {
                            const map = presentationMaps[zoneId];
                            const container = document.getElementById(`slide-map-${zoneId}`);
                            
                            if (container) {
                                const rect = container.getBoundingClientRect();
                                // Only invalidate if container is visible and has dimensions
                                if (rect.width > 0 && rect.height > 0) {
                                    // Check if size actually changed before invalidating
                                    const currentSize = map.getSize();
                                    if (currentSize.x !== rect.width || currentSize.y !== rect.height) {
                                        map.invalidateSize();
                                    }
                                }
                            }
                            
                            // Zoom to selected zone after map is ready
                            setTimeout(() => {
                                if (map && container) {
                                    const allPolygonsData = [
                                        { coords: sghZoneCoordinates, id: 'sgh' },
                                        { coords: kghZoneCoordinates, id: 'kgh' },
                                        { coords: nnghZoneCoordinates, id: 'nngh' },
                                        { coords: wnhZoneCoordinates, id: 'wnh' },
                                        { coords: mchZoneCoordinates, id: 'mch' },
                                        { coords: kkhZoneCoordinates, id: 'kkh' },
                                        { coords: tghZoneCoordinates, id: 'tgh' },
                                        { coords: bghZoneCoordinates, id: 'bgh' },
                                        { coords: yghZoneCoordinates, id: 'ygh' },
                                        { coords: hghZoneCoordinates, id: 'hgh' }
                                    ];
                                    
                                    const zonePolygon = allPolygonsData.find(p => p.id === zoneId);
                                    const zonePhcs = healthcareCenters.filter(c => c.zone === zoneId);
                                    
                                    if (zonePolygon && zonePhcs.length > 0) {
                                        const tempPoly = L.polygon(zonePolygon.coords);
                                        const tempMarkers = zonePhcs.map(c => L.marker([c.lat, c.lng]));
                                        const zoneGroup = L.featureGroup([tempPoly, ...tempMarkers]);
                                        const zoneBounds = zoneGroup.getBounds();
                                        
                                        if (zoneBounds.isValid()) {
                                            map.fitBounds(zoneBounds, { padding: [80, 80], animate: true, duration: 0.5 });
                                        }
                                    } else if (zonePolygon) {
                                        const tempPoly = L.polygon(zonePolygon.coords);
                                        const zoneBounds = tempPoly.getBounds();
                                        if (zoneBounds.isValid()) {
                                            map.fitBounds(zoneBounds, { padding: [80, 80], animate: true, duration: 0.5 });
                                        }
                                    }
                                }
                            }, 200);
                        }
                    }
                }, 400);
            }
        };

        const nextSlide = () => {
            const slides = document.querySelectorAll('.presentation-slide');
            const totalSlides = slides.length;
            const nextIndex = (currentSlideIndex + 1) % totalSlides;
            showSlide(nextIndex);
        };

        const previousSlide = () => {
            const slides = document.querySelectorAll('.presentation-slide');
            const totalSlides = slides.length;
            const prevIndex = (currentSlideIndex - 1 + totalSlides) % totalSlides;
            showSlide(prevIndex);
        };

        const goToZoneSlide = (zoneId) => {
            const zoneIndex = zoneOrder.indexOf(zoneId);
            if (zoneIndex !== -1) {
                showSlide(zoneIndex + 1);
            }
        };

        const goToOverview = () => {
            showSlide(0);
        };

        const initializePresentation = () => {
            const presentationMode = document.getElementById('presentationMode');
            document.body.style.overflow = 'hidden';
            
            const slidesContainer = document.getElementById('presentationSlides');
            if (slidesContainer.children.length === 0) {
                const overviewSlide = createOverviewSlide(0);
                slidesContainer.appendChild(overviewSlide);
                
                zoneOrder.forEach((zoneId, index) => {
                    const slide = createPresentationSlide(zoneId, index);
                    slidesContainer.appendChild(slide);
                });
            }
            
            currentSlideIndex = 0;
            showSlide(0);
            
            setTimeout(() => {
                initializePresentationMaps();
            }, 500);
        };

        const togglePresentationMode = () => {
            initializePresentation();
        };

        const toggleCardMarkers = (zoneId, cardType) => {
            const map = presentationMaps[zoneId];
            if (!map) return;

            const toggleBtn = document.getElementById(`toggle-${cardType}-${zoneId}`);
            if (!toggleBtn) return;

            const zoneEn = zoneId.toUpperCase();
            const zoneData = organizationsDmPredmScreeningData.filter(org => org.zone_en === zoneEn);
            const zonePhcs = healthcareCenters.filter(c => c.zone === zoneId);

            // If this toggle is already active, turn it off
            if (map._activeToggle === cardType) {
                // Show default markers
                map._defaultMarkers.forEach(marker => marker.setOpacity(1));
                // Hide colored markers
                map._coloredMarkers[cardType].removeFrom(map);
                map._coloredMarkers[cardType].clearLayers();
                map._activeToggle = null;
                toggleBtn.classList.remove('active');
                return;
            }

            // Hide all default markers
            map._defaultMarkers.forEach(marker => marker.setOpacity(0));

            // Remove all colored marker layers
            Object.values(map._coloredMarkers).forEach(layer => {
                layer.removeFrom(map);
                layer.clearLayers();
            });

            // Reset all toggle buttons for this zone
            document.querySelectorAll(`[id^="toggle-${cardType}-${zoneId}"], [id^="toggle-screening-${zoneId}"], [id^="toggle-controlled-${zoneId}"], [id^="toggle-returnedToNormal-${zoneId}"]`).forEach(btn => {
                if (btn.id.includes(zoneId)) btn.classList.remove('active');
            });

            // Create colored markers for this card type
            const markerLayer = map._coloredMarkers[cardType];
            
            zonePhcs.forEach(phc => {
                // Find matching organization data by coordinates (more reliable than name matching)
                const orgData = zoneData.find(org => {
                    const latMatch = Math.abs((org.latitude || 0) - phc.lat) < 0.01;
                    const lngMatch = Math.abs((org.longitude || 0) - phc.lng) < 0.01;
                    return latMatch && lngMatch;
                });

                let color = zoneColors[zoneId]; // Default color

                if (orgData) {
                    if (cardType === 'screening') {
                        const screened = typeof orgData.screenedByPhc === 'number' ? orgData.screenedByPhc : parseFloat(orgData.screenedByPhc) || 0;
                        const target = typeof orgData.targetByPhc === 'number' ? orgData.targetByPhc : parseFloat(orgData.targetByPhc) || 0;
                        const percentage = target > 0 ? ((screened / target) * 100) : 0;
                        color = percentage < 50 ? '#ef4444' : percentage < 70 ? '#f59e0b' : '#10b981';
                    } else if (cardType === 'controlled') {
                        const dmPatients = typeof orgData.dmPatients === 'number' ? orgData.dmPatients : parseFloat(orgData.dmPatients) || 0;
                        const controlledDm = typeof orgData.controlledDm === 'number' ? orgData.controlledDm : parseFloat(orgData.controlledDm) || 0;
                        const percentage = dmPatients > 0 ? ((controlledDm / dmPatients) * 100) : 0;
                        color = percentage < 90 ? '#ef4444' : '#10b981';
                    } else if (cardType === 'returnedToNormal') {
                        const preDmPatients = typeof orgData.preDmPatients === 'number' ? orgData.preDmPatients : parseFloat(orgData.preDmPatients) || 0;
                        const preDmToNormal = typeof orgData.preDmToNormal === 'number' ? orgData.preDmToNormal : parseFloat(orgData.preDmToNormal) || 0;
                        const percentage = preDmPatients > 0 ? ((preDmToNormal / preDmPatients) * 100) : 0;
                        color = percentage < 20 ? '#ef4444' : percentage < 30 ? '#f59e0b' : '#10b981';
                    }
                }

                const marker = L.marker([phc.lat, phc.lng], {
                    icon: createMinimalIcon(color, true)
                });
                markerLayer.addLayer(marker);
            });

            markerLayer.addTo(map);
            map._activeToggle = cardType;
            toggleBtn.classList.add('active');
        };

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                e.preventDefault();
                previousSlide();
            }
        });

        window.togglePresentationMode = togglePresentationMode;
        window.nextSlide = nextSlide;
        window.previousSlide = previousSlide;
        const toggleOverviewCardMarkers = (cardType) => {
            const map = presentationMaps['overview'];
            if (!map) return;

            const toggleBtn = document.getElementById(`toggle-overview-${cardType}`);
            if (!toggleBtn) return;

            // If this toggle is already active, turn it off
            if (map._activeToggle === cardType) {
                // Show default markers
                map._defaultMarkers.forEach(marker => marker.setOpacity(1));
                // Hide colored markers
                map._coloredMarkers[cardType].removeFrom(map);
                map._coloredMarkers[cardType].clearLayers();
                map._activeToggle = null;
                toggleBtn.classList.remove('active');
                return;
            }

            // Hide all default markers
            map._defaultMarkers.forEach(marker => marker.setOpacity(0));

            // Remove all colored marker layers
            Object.values(map._coloredMarkers).forEach(layer => {
                layer.removeFrom(map);
                layer.clearLayers();
            });

            // Reset all toggle buttons
            document.querySelectorAll(`[id^="toggle-overview-"]`).forEach(btn => btn.classList.remove('active'));

            // Create colored markers for this card type
            const markerLayer = map._coloredMarkers[cardType];
            const closedPhcs = [
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿ®ÿ≠ÿ®ŸàŸÜÿß',
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿßŸàŸÑŸäÿ© ÿ™ŸÖÿßŸÜŸä ÿ¥ÿ±Ÿàÿ±ÿ©',
                'ŸÖÿ±ŸÉÿ≤ ÿµÿ≠Ÿä ÿßŸÑŸÇÿ±ŸÜ',
                'ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ±ÿπÿßŸäÿ©ÿßŸÑÿµÿ≠Ÿäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ÿßŸÑÿ∫ŸàŸäŸÑÿ©'
            ];
            
            organizationsDmPredmScreeningData.forEach(org => {
                if (closedPhcs.includes(org.organization_ar) || closedPhcs.includes(org.organization_en)) return;

                let color = zoneColors[Object.keys(zoneColors).find(key => key.toUpperCase() === org.zone_en)] || '#86868b';

                if (cardType === 'screening') {
                    const screened = typeof org.screenedByPhc === 'number' ? org.screenedByPhc : parseFloat(org.screenedByPhc) || 0;
                    const target = typeof org.targetByPhc === 'number' ? org.targetByPhc : parseFloat(org.targetByPhc) || 0;
                    const percentage = target > 0 ? ((screened / target) * 100) : 0;
                    color = percentage < 50 ? '#ef4444' : percentage < 70 ? '#f59e0b' : '#10b981';
                } else if (cardType === 'controlled') {
                    const dmPatients = typeof org.dmPatients === 'number' ? org.dmPatients : parseFloat(org.dmPatients) || 0;
                    const controlledDm = typeof org.controlledDm === 'number' ? org.controlledDm : parseFloat(org.controlledDm) || 0;
                    const percentage = dmPatients > 0 ? ((controlledDm / dmPatients) * 100) : 0;
                    color = percentage < 90 ? '#ef4444' : '#10b981';
                } else if (cardType === 'returnedToNormal') {
                    const preDmPatients = typeof org.preDmPatients === 'number' ? org.preDmPatients : parseFloat(org.preDmPatients) || 0;
                    const preDmToNormal = typeof org.preDmToNormal === 'number' ? org.preDmToNormal : parseFloat(org.preDmToNormal) || 0;
                    const percentage = preDmPatients > 0 ? ((preDmToNormal / preDmPatients) * 100) : 0;
                    color = percentage < 20 ? '#ef4444' : percentage < 30 ? '#f59e0b' : '#10b981';
                }

                if (org.latitude && org.longitude) {
                    const marker = L.marker([org.latitude, org.longitude], {
                        icon: createMinimalIcon(color, true)
                    });
                    markerLayer.addLayer(marker);
                }
            });

            markerLayer.addTo(map);
            map._activeToggle = cardType;
            toggleBtn.classList.add('active');
        };

        window.goToZoneSlide = goToZoneSlide;
        window.goToOverview = goToOverview;
        window.toggleCardMarkers = toggleCardMarkers;
        window.toggleOverviewCardMarkers = toggleOverviewCardMarkers;

        window.addEventListener('load', function() {
            initializePresentation();
        });

    </script>
</body>
</html>